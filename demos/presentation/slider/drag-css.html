<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <meta name="robots" content="noindex, nofollow">

    <!-- seo -->
    <title>Xtend demo</title>
    <meta name="description" content="Xtend demo" />

    <!-- icons -->
    <link rel="icon" href="/assets/images/favicon.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicon-152x152.png" />

    <!-- styles -->
    <link rel="stylesheet" href="/assets/styles/demo.css?v=0.6.4" />

    <!-- demo styles -->
    <link rel="stylesheet" href="drag-css.css?v=0.6.4" />

  </head>
  <body class="full">

    <div id="body-outer">
<div id="body-inner" class="demo-source-from">
<div class="slider">

  <div class="slides">

    <div class="slide toggle--block">
      <div class="slide_inner">
        <div class="slide_content">
          <div class="card">
            <div class="card_content">
              <h2>Lorem ipsum #0</h2>
              <h5>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h5>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed cursus, lectus quis ornare volutpat,
                ligula nulla sollicitudin nunc, ut commodo nulla enim nec nisi.</p>
              <p>Morbi sodales, dolor a iaculis ornare, velit justo lacinia erat, pretium sollicitudin dui sem id
                justo.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="slide toggle--block">
      <div class="slide_inner">
        <div class="slide_content">
          <div class="card">
            <div class="card_content">
              <h2>Lorem ipsum #1</h2>
              <h5>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h5>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed cursus, lectus quis ornare volutpat,
                ligula nulla sollicitudin nunc, ut commodo nulla enim nec nisi.</p>
              <p>Morbi sodales, dolor a iaculis ornare, velit justo lacinia erat, pretium sollicitudin dui sem id
                justo.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="slide toggle--block">
      <div class="slide_inner">
        <div class="slide_content">
          <div class="card">
            <div class="card_content">
              <h2>Lorem ipsum #2</h2>
              <h5>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h5>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed cursus, lectus quis ornare volutpat,
                ligula nulla sollicitudin nunc, ut commodo nulla enim nec nisi.</p>
              <p>Morbi sodales, dolor a iaculis ornare, velit justo lacinia erat, pretium sollicitudin dui sem id
                justo.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="list list_space--small align-items--center" style="margin-top: 1rem !important;">
    <button type="button" class="btn slide-control">
      <span>#0</span>
    </button>
    <button type="button" class="btn slide-control">
      <span>#1</span>
    </button>
    <button type="button" class="btn slide-control">
      <span>#2</span>
    </button>
  </div>

</div>


</div>
    </div>

    <!-- demos source less -->
    
    <less-style>@import (reference) "../../../../../dist/styles/xtend.less";

// animations

.slide {
  // mask
  &:not(.dragging) {
    .transition--default.out();
    transition-duration: @time--big;
    > * {
      .transition--default.out();
      transition-duration: @time--big;
    }
    &.active {
      .transition--default.active();
      transition-duration: @time--big;
      > * {
        .transition--default.active();
        transition-duration: @time--big;
      }
    }
  }
  // content
  > * > .slide_content {
    .anim--left.out();
    animation-duration: @time--big;
    > .card > .card_content > * {
      .anim--left.out();
      animation-duration: @time--big;
      // delay
      animation-delay: 300ms; // @start + @child * @increment
      .nth-child(@child: 2, @start: 0ms, @increment: 150ms, @decrement: 0ms, {
        @animation-delay(); });
    }
  }
  &.xt-inverse {
    > * > .slide_content {
      .anim--right.out();
      animation-duration: @time--big;
      > .card > .card_content > * {
        .anim--right.out();
        animation-duration: @time--big;
      }
    }
  }
  &.active {
    > * > .slide_content {
      .anim--right.active();
      animation-duration: @time--big;
      > .card > .card_content > * {
        .anim--right.active();
        animation-duration: @time--big;
      }
    }
    &.xt-inverse {
      > * > .slide_content {
        .anim--left.active();
        animation-duration: @time--big;
        > .card > .card_content > * {
          .anim--left.active();
          animation-duration: @time--big;
        }
      }
    }
  }
}

@keyframes anim--special-in {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-100%);
  }
}

@keyframes anim--special-in-inverse {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(100%);
  }
}
</less-style>
    

    <!-- demos source js -->
    
    <js-script>for (let [i, el] of document.querySelectorAll('.slider').entries()) {

  // slider
  new Xt.Slider(el, {
    "auto": 6000,
    "autoPause": 6000,
    "drag": true
  });

  // slider items
  for (let [i, tr] of el.querySelectorAll('.slide').entries()) {

    // on event
    tr.addEventListener('on.xt', function (e) {
      let target = this;
      let xMax = target.clientWidth;
      // dragging
      target.classList.add('dragging');
      // setup drag position
      target.style.opacity = '0';
      if (!target.classList.contains('xt-inverse')) {
        target.style.transform = 'translateX(' + xMax + 'px)';
        target.children[0].style.transform = 'translateX(' + (-xMax) + 'px)';
      } else {
        target.style.transform = 'translateX(' + (-xMax) + 'px)';
        target.children[0].style.transform = 'translateX(' + xMax + 'px)';
      }
      // drag position
      window.cancelAnimationFrame(parseFloat(target.dataset.xtDragResetFrame));
      target.dataset.xtDragResetFrame = window.requestAnimationFrame(function () {
        // dragging
        target.classList.remove('dragging');
        target.dataset.xtDragResetFrame = window.requestAnimationFrame(function () {
          // reset drag
          target.style.opacity = '1';
          target.style.transform = 'translateX(' + 0 + 'px)';
          target.children[0].style.transform = 'translateX(' + 0 + 'px)';
        }).toString();
      }).toString();
    });

    // off event
    tr.addEventListener('off.xt', function (e) {
      let target = this;
      let xMax = target.clientWidth;
      // dragging
      target.classList.remove('dragging');
      // complete drag
      window.cancelAnimationFrame(parseFloat(target.dataset.xtDragResetFrame));
      if (!target.classList.contains('xt-inverse')) {
        target.style.opacity = '0';
        target.style.transform = 'translateX(' + -xMax + 'px)';
        target.children[0].style.transform = 'translateX(' + xMax + 'px)';
      } else {
        target.style.opacity = '0';
        target.style.transform = 'translateX(' + xMax + 'px)';
        target.children[0].style.transform = 'translateX(' + -xMax + 'px)';
      }
    });

    // dragstart event
    tr.addEventListener('dragstart.xt.slider', function (e) {
      let target = this;
      // dragging
      target.classList.add('dragging');
    });

    // drag event
    tr.addEventListener('drag.xt.slider', function (e) {
      let target = this;
      let self = e.detail.object;
      let eInit = self.detail.eInit;
      let eCurrent = self.detail.eCurrent;
      let xStart = eInit.clientX;
      let xCurrent = eCurrent.clientX;
      let xDist = xCurrent - xStart;
      let xMax = target.clientWidth;
      let ratio = 1 - (Math.abs(xStart - xCurrent) / xMax);
      // drag
      target.style.opacity = ratio.toString();
      target.style.transform = 'translateX(' + xDist + 'px)';
      target.children[0].style.transform = 'translateX(' + -xDist + 'px)';
    });

    // dragend event
    tr.addEventListener('dragend.xt.slider', function (e) {
      let target = this;
      let self = e.detail.object;
      let eInit = self.detail.eInit;
      let eCurrent = self.detail.eCurrent;
      let xStart = eInit.clientX;
      let xCurrent = eCurrent.clientX;
      let xDist = xCurrent - xStart;
      // dragging
      target.classList.remove('dragging');
      // activate or reset
      if (Math.abs(xDist) > self.options.dragThreshold) {
        // direction
        if (Math.sign(xDist) < 0) {
          self.goToNext();
        } else {
          self.goToPrev();
        }
        // reset after animation done
        let timing = Xt.animDuration(target);
        clearTimeout(target.dataset.xtdragendTimeout);
        target.dataset.xtdragendTimeout = setTimeout(function () {
          target.style.opacity = '0';
          target.style.transform = 'translateX(' + 0 + 'px)';
          target.children[0].style.transform = 'translateX(' + 0 + 'px)';
        }, timing).toString();
      } else {
        // reset drag
        target.style.opacity = '1';
        target.style.transform = 'translateX(' + 0 + 'px)';
        target.children[0].style.transform = 'translateX(' + 0 + 'px)';
      }
    });

  }

}</js-script>
    

    <!-- scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
    <script src="/assets/scripts/greensock/easing/CustomEase.min.js?v=0.6.4"></script>
    <script src="/assets/scripts/polyfill.min.js"></script>

    <!-- theme scripts -->
    <script src="/assets/scripts/theme.min.js?v=0.6.4"></script>

    <!-- demo scripts -->
    
    <script>for (let [i, el] of document.querySelectorAll('.slider').entries()) {

  // slider
  new Xt.Slider(el, {
    "auto": 6000,
    "autoPause": 6000,
    "drag": true
  });

  // slider items
  for (let [i, tr] of el.querySelectorAll('.slide').entries()) {

    // on event
    tr.addEventListener('on.xt', function (e) {
      let target = this;
      let xMax = target.clientWidth;
      // dragging
      target.classList.add('dragging');
      // setup drag position
      target.style.opacity = '0';
      if (!target.classList.contains('xt-inverse')) {
        target.style.transform = 'translateX(' + xMax + 'px)';
        target.children[0].style.transform = 'translateX(' + (-xMax) + 'px)';
      } else {
        target.style.transform = 'translateX(' + (-xMax) + 'px)';
        target.children[0].style.transform = 'translateX(' + xMax + 'px)';
      }
      // drag position
      window.cancelAnimationFrame(parseFloat(target.dataset.xtDragResetFrame));
      target.dataset.xtDragResetFrame = window.requestAnimationFrame(function () {
        // dragging
        target.classList.remove('dragging');
        target.dataset.xtDragResetFrame = window.requestAnimationFrame(function () {
          // reset drag
          target.style.opacity = '1';
          target.style.transform = 'translateX(' + 0 + 'px)';
          target.children[0].style.transform = 'translateX(' + 0 + 'px)';
        }).toString();
      }).toString();
    });

    // off event
    tr.addEventListener('off.xt', function (e) {
      let target = this;
      let xMax = target.clientWidth;
      // dragging
      target.classList.remove('dragging');
      // complete drag
      window.cancelAnimationFrame(parseFloat(target.dataset.xtDragResetFrame));
      if (!target.classList.contains('xt-inverse')) {
        target.style.opacity = '0';
        target.style.transform = 'translateX(' + -xMax + 'px)';
        target.children[0].style.transform = 'translateX(' + xMax + 'px)';
      } else {
        target.style.opacity = '0';
        target.style.transform = 'translateX(' + xMax + 'px)';
        target.children[0].style.transform = 'translateX(' + -xMax + 'px)';
      }
    });

    // dragstart event
    tr.addEventListener('dragstart.xt.slider', function (e) {
      let target = this;
      // dragging
      target.classList.add('dragging');
    });

    // drag event
    tr.addEventListener('drag.xt.slider', function (e) {
      let target = this;
      let self = e.detail.object;
      let eInit = self.detail.eInit;
      let eCurrent = self.detail.eCurrent;
      let xStart = eInit.clientX;
      let xCurrent = eCurrent.clientX;
      let xDist = xCurrent - xStart;
      let xMax = target.clientWidth;
      let ratio = 1 - (Math.abs(xStart - xCurrent) / xMax);
      // drag
      target.style.opacity = ratio.toString();
      target.style.transform = 'translateX(' + xDist + 'px)';
      target.children[0].style.transform = 'translateX(' + -xDist + 'px)';
    });

    // dragend event
    tr.addEventListener('dragend.xt.slider', function (e) {
      let target = this;
      let self = e.detail.object;
      let eInit = self.detail.eInit;
      let eCurrent = self.detail.eCurrent;
      let xStart = eInit.clientX;
      let xCurrent = eCurrent.clientX;
      let xDist = xCurrent - xStart;
      // dragging
      target.classList.remove('dragging');
      // activate or reset
      if (Math.abs(xDist) > self.options.dragThreshold) {
        // direction
        if (Math.sign(xDist) < 0) {
          self.goToNext();
        } else {
          self.goToPrev();
        }
        // reset after animation done
        let timing = Xt.animDuration(target);
        clearTimeout(target.dataset.xtdragendTimeout);
        target.dataset.xtdragendTimeout = setTimeout(function () {
          target.style.opacity = '0';
          target.style.transform = 'translateX(' + 0 + 'px)';
          target.children[0].style.transform = 'translateX(' + 0 + 'px)';
        }, timing).toString();
      } else {
        // reset drag
        target.style.opacity = '1';
        target.style.transform = 'translateX(' + 0 + 'px)';
        target.children[0].style.transform = 'translateX(' + 0 + 'px)';
      }
    });

  }

}</script>
    

    <!-- demo utils -->
    <script>
      // add id
      document.body.setAttribute('id', document.location.href.match(/[^\/]+$/)[0]);
      // init iframe
      window.parent.initIframe(window.name);
    </script>

  </body>
</html>