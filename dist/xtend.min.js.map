{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/xtend.js","webpack:///./dist/xtend.less","webpack:///(webpack)/buildin/amd-options.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/core/ajax/ajax.js","webpack:///./src/core/drop/drop.js","webpack:///./src/core/overlay/overlay.js","webpack:///./src/core/scroll/scroll.js","webpack:///./src/core/slider/slider.js","webpack:///./src/core/smooth/smooth.js","webpack:///./src/core/sticky/sticky.js","webpack:///./src/core/toggle/toggle.js","webpack:///./src/polyfill.js","webpack:///./src/xt.js","webpack:///./src/xtend-core.js"],"names":["global","factory","exports","module","define","self","Xt","originalModule","webpackPolyfill","Object","create","children","defineProperty","enumerable","get","l","i","Ajax","object","optionsJs","history","scrollRestoration","locationFrom","locationTo","options","queryElement","querySelector","query","element","location","hostname","getAttribute","split","elements","Array","from","filter","x","groupUrl","url","push","setAttribute","namespace","saveCurrents","initial","currentIndex","getGroups","length","found","loc","pathname","search","eventOn","eventOff","state","URL","pushState","document","title","initEvents","requestAnimationFrame","detail","eDetailSet","dispatchEvent","CustomEvent","window","onpopstate","eventPopstateHandler","bind","e","skip","metaKey","ctrlKey","preventDefault","initStart","ajaxRequest","actionCurrent","obj","queueEls","requestDate","Date","clearTimeout","dataStorage","componentNamespace","request","abort","requestDuration","duration","animTime","XMLHttpRequest","open","onload","ajaxResponse","onerror","debug","console","send","date","set","setTimeout","status","ajaxSuccess","ajaxError","html","createElement","innerHTML","responseText","trim","replace","outerHTML","init","Toggle","componentName","optionsDefault","targets","on","min","max","instant","baseUrl","aria","mount","matches","unmount","destroy","Drop","el","ariaEls","queryAll","ariaControls","ariaEl","tr","elementsInner","autoClose","closeOutside","Overlay","appendTo","backdrop","classHtml","closeInside","scrollbar","Scroll","sticky","container","closest","before","classList","add","append","target","cloneNode","remove","querySelectorAll","elId","elName","contains","indicatorTrigger","body","indicatorStart","indicatorEnd","indicatorStartReal","indicatorEndReal","scrollHandler","put","eventScrollHandler","events","event","addEventListener","passiveSupported","passive","eventDelay","eventScroll","disabled","currentOn","currentOff","currentsOn","currentsOff","scrollingElement","scrollHeight","scrollTop","windowHeight","inverseForce","scrollTopOld","getTargets","visible","offsetParent","changed","elTop","getBoundingClientRect","top","offsetTop","elHeight","offsetHeight","style","width","offsetWidth","distance","windowPercent","trigger","start","startReal","end","endReal","innerHeight","fallback","current","total","ratio","Math","ratioInverse","ratioDouble","abs","checkOn","cancelAnimationFrame","checkOff","triggerEl","startEl","endEl","startRealEl","endRealEl","bubbles","class","classIn","classOut","Slider","initScopeTargets","slide","drag","dragger","destroyElements","autoHeight","initSliderGroup","initSliderPags","initSliderPos","initScopeElements","wrap","draggerWidth","draggerWidthAvailable","groupMq","mqs","entries","key","value","matchMedia","currentCount","totalCount","targetWidth","parentNode","cloned","currentGroup","groupMqInitial","fixNegativeMargin","offsetLeft","disable","afterInitDisable","currents","getCurrents","includes","getElements","activate","removeEventListener","wrapFirst","wrapLast","loop","error","contain","cloneSlide","classes","classesIn","classesOut","classesInitial","classesInverse","wrapLastFunction","wrapLastCount","group","wrapFirstFunction","wrapFirstCount","reverse","unshift","prepend","groupMqFirst","groupMqLast","concat","pagination","pags","z","pag","oldPag","arr","item","clone","appendChild","RegExp","toString","insertBefore","slidesWidth","slideLeft","Infinity","slideWidth","slideHeight","slideHeightTemp","cloneSource","w","pos","align","slideFirst","slideFirstLeft","slideLast","slideLastLeft","slideLastWidth","wheel","selector","first","last","wheelMin","wheelMax","jump","slideOnHandler","eventSlideOnHandler","slideOffHandler","eventSlideOffHandler","dragstartHandler","eventDragstartHandler","logicDragstart","logicDrag","logicDragend","logicDragfrictionend","resizeHandler","eventResizeHandler","eventSlideOn","eventSlideOff","button","checkAnim","arrSingle","eventLimit","checkNested","eventDragstart","dragendHandler","eventDragendHandler","eventDragend","dragHandler","eventDragHandler","eventsoff","eventsmove","initLogic","groupHeight","height","xPos","xPosCurrent","xPosReal","transform","navs","nav","animTimeout","goToIndex","initialCurrents","slice","wheelX","undefined","xStart","clientX","touches","eventAutoPause","xVelocity","xVelocityNext","xCurrent","eventAutoStart","logicDragfriction","frictionLimit","friction","sign","fncFriction","dragDate","dateDiff","timeLimit","xPosOld","factor","xCurrentReal","xDist","linkThreshold","overflow","fncOverflow","threshold","slideCheck","check","goToNext","goToPrev","imageLoadedInit","navigation","block","limit","horizontal","delta","keyboard","labelledby","all","velocity","pow","Smooth","Sticky","mode","position","hide","zIndex","getStickyIndex","stickyHandler","eventStickyHandler","autoCloseHandler","focusInHandler","eventFocusInHandler","eventSticky","active","anim","addHide","heightEl","parseFloat","getComputedStyle","heightTr","topTr","eventStickyPos","bottom","addTop","addBottom","addTopObj","eventStickyHeight","val","foundHide","checkTop","checkBottom","classesMatch","normalizeWidth","clientWidth","option","isNaN","isArray","Element","display","rect","clientHeight","constructor","checkDefined","queueOn","queueOff","inverse","autoPaused","initVars","initSetup","optionsDefaultSuper","merge","markupOptions","JSON","parse","classInitial","classInverse","join","classesInMatch","classesOutMatch","classesInitialMatch","classesInverseMatch","indexOf","documentElement","uniqueId","getuniqueId","setCurrents","initScope","initAria","initReset","todo","auto","reset","elReset","groupEls","groupEl","initAriaRole","controls","id","els","role","tabindex","focusables","focusable","str","trs","checkHandler","eventStatusHandler","onHandler","eventOnHandler","off","touchLinksStartHandler","eventTouchLinksStartHandler","offHandler","eventOffHandler","time","focusHandler","eventAutoResumeHandler","blurHandler","eventAutoPauseHandler","pause","autoPauseEls","autoPauseOnHandler","eventsPause","autoResumeOnHandler","eventsResume","jumpHandler","eventJumpHandler","navHandler","eventNavHandler","keyboards","keyboardFocusHandler","eventKeyboardFocusHandler","keyboardBlurHandler","eventKeyboardBlurHandler","eventAutoCloseHandler","imgs","img","complete","imgLoadHandler","eventImgLoadedHandler","eWheel","onmousewheel","wheelHandler","eventWheelHandler","wheelStopHandler","eventWheelStop","wheelBlockHandler","eventWheelBlockHandler","onBlock","now","getTime","old","type","offBlock","touchLinksHandler","eventTouchLinksHandler","touchResetHandler","eventTouchLinksResetHandler","eventTouchLinksEndHandler","eventJump","eventNav","keyboardHandler","eventKeyboardHandler","code","keyCode","which","prev","next","vertical","deferred","imageLoadedDelay","groups","final","groupElements","groupTargets","index","findIndex","hasCurrent","force","eventAutoStop","addCurrent","setIndexAndDirection","targetsInner","actionOther","eventQueue","queueStart","removeCurrent","blur","removedOn","shift","queueStop","removedOff","clearInterval","setInterval","pointerEvents","step","queueInitial","done","objOther","instantType","queueDelay","queueDelayDone","queueAnimDone","actions","other","action","queue","delay","count","tot","queueDone","skipQueue","getPropertyValue","after","specialCenter","specialMiddle","specialCollapse","appendToTarget","appendOrigin","specialClose","deactivate","queueAnim","removeAttribute","queueProgress","pop","queueComplete","specialBackdrop","specialClassHtml","specialScrollbar","focus","focusLimit","eventWheelSmooth","deltaY","wheelDelta","wheelDeltaY","stopPropagation","elFinal","composedPath","composed","overflowY","deltaMode","scrollWidth","full","child","wheelMoving","wheelCurrent","scrollLeft","getTranslate","wheelEnd","eventFrictionSmooth","deltaAbs","single","closeElements","closeElement","specialCloseInsideHandler","eventSpecialCloseInsideHandler","specialCloseOutsideHandler","eventSpecialCloseOutsideHandler","checkEl","HTMLElement","h","checks","scrollbarSpaceOn","scrollbarSpaceOff","left","amount","eventStatus","enable","weak","queueStopAll","storages","getAll","endsWith","handler","delayOn","delayOff","durationOn","durationOff","forEach","hasOwnProperty","configurable","writable","argArr","prototype","call","arguments","docFrag","createDocumentFragment","argItem","isNode","Node","createTextNode","String","CharacterData","DocumentType","nextSibling","ElementPrototype","polyfill","qsa","selectors","hasScope","scope","test","attr","floor","random","elementOrNodeList","apply","querySelectorWithScope","querySelectorAllWithScope","matchesWithScope","closestWithScope","E","d","path","Event","resizeDelay","scrollDelay","ready","fnc","readyState","stickyIndex","setScrollbarWidth","windowHeightSet","mountCheck","observer","disconnect","observe","characterData","attributes","childList","subtree","MutationObserver","mutationsList","mutation","addedNodes","added","nodeType","removedNodes","removed","unmountCheck","addedIgnore","ignoreOnce","elIgnore","name","alreadyDefinedInstance","_storage","Map","has","getEl","getKey","ret","delete","size","focusChangeKeyHandler","changeKey","focusChangeOtherHandler","changeOther","activeElement","focusLimitHandler","shiftKey","yCurrent","yDist","y","transArr","mat","match","result","t","uid","nodeName","tagName","div","firstChild","drop","scrollbarWidth","scrollbarWidthHandler","outer","visibility","msOverflowStyle","inner","widthNoScroll","widthWithScroll","innerWidth","paddingRight","backdrops","right","padding","timing","transition","transitionDuration","transitionDelay","animation","animationDuration","animationDelay","func","suffix","animTimeoutClear","num","getClientRects","prefix","setProperty","err","require"],"mappings":"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","file":"dist/xtend.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*! Xtend (https://getxtend.com/)\n@copyright (c) 2017 - 2019 Riccardo Caroli\n@license MIT (https://github.com/minimit/xtend-library/blob/master/LICENSE) */\n\n// support explorer 15, firefox 48, opera 34, safari 10, chrome 47\n\n// support old browsers ie11+\n// ADD\n// .browserslistrc ie >= 11\n// import 'xtend-library/src/polyfill-ie11.js'\n\n// POLYFILLS\n// ADD\n// https://cdnjs.cloudflare.com/ajax/libs/core-js/2.6.9/shim.min.js\n// OR\n// import 'core-js'\n// import 'regenerator-runtime/runtime'\n\nimport {Xt} from 'xtend-library'\nimport 'xtend-library/src/xtend-core.js'\n\n// export UMD\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n      (global = global || self, global.Xt = factory());\n}(this, function () { 'use strict';\n  return Xt;\n}));\n","// extracted by mini-css-extract-plugin","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { Xt } from 'xtend-library'\nimport 'xtend-library/src/core/toggle/toggle.js'\n\nclass Ajax extends Xt.Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    super(object, optionsJs)\n    // prevent scroll on popstate\n    if ('scrollRestoration' in history) {\n      history.scrollRestoration = 'manual'\n    }\n  }\n\n  //\n  // init\n  //\n\n  /**\n   * init\n   */\n  init () {\n    const self = this\n    // vars\n    self.locationFrom = self.locationTo || null // fix popstate\n    self.locationTo = null\n    // super\n    super.init()\n  }\n\n  /**\n   * init setup\n   */\n  initSetup () {\n    super.initSetup()\n    const self = this\n    const options = self.options\n    // queryElement\n    self.queryElement = self.object.querySelector(options.query) || self.object\n  }\n\n  /**\n   * init elements\n   */\n  initScopeElements () {\n    super.initScopeElements()\n    const self = this\n    // remove external links\n    for (const element of self.elements) {\n      if (location.hostname !== element.hostname || element.getAttribute('href').split('#')[0] === '') {\n        self.elements = Array.from(self.elements).filter(x => x !== element)\n      }\n    }\n    // generate groups\n    self.groupUrl = []\n    for (const element of self.elements) {\n      // populate\n      const url = element.getAttribute('href').split('#')[0]\n      if (!self.groupUrl[url]) {\n        self.groupUrl[url] = []\n      }\n      self.groupUrl[url].push(element)\n      // assign group\n      element.setAttribute('data-xt-group', self.namespace + '-' + url)\n    }\n  }\n\n  /**\n   * init start\n   * @param {Boolean} saveCurrents\n   */\n  initStart (saveCurrents = false) {\n    const self = this\n    // initial\n    self.initial = true\n    self.currentIndex = null\n    // automatic initial currents\n    const elements = self.getGroups()\n    if (elements.length) {\n      let found = false\n      for (const element of elements) {\n        const loc = location.pathname + location.search\n        const url = element.pathname + element.search\n        if (url !== '') {\n          if (loc === url) {\n            found = true\n            // activate\n            self.eventOn(element, true)\n          } else {\n            // deactivate\n            self.eventOff(element, true)\n          }\n        }\n      }\n      if (!found) {\n        // initial\n        self.initial = false\n      }\n    } else {\n      // initial\n      self.initial = false\n    }\n    // detect url\n    let url\n    if (history.state && history.state.url) {\n      // detect from history\n      url = history.state.url\n    } else {\n      // detect from url location (absolute url without domain name)\n      url = location.pathname + location.search\n    }\n    // set pushstate\n    if (!self.locationFrom) {\n      self.locationFrom = new URL(url, location)\n    }\n    self.pushState(url, document.title)\n    // init events\n    self.initEvents()\n    // listener dispatch\n    requestAnimationFrame(function () {\n      const detail = self.eDetailSet()\n      self.object.dispatchEvent(new CustomEvent('init.xt', { detail: detail }))\n    })\n  }\n\n  /**\n   * init events\n   */\n  initEvents () {\n    super.initEvents()\n    const self = this\n    // event popstate\n    window.onpopstate = self.eventPopstateHandler.bind(self)\n  }\n\n  //\n  // handler\n  //\n\n  /**\n   * element on handler\n   * @param {Node|HTMLElement|EventTarget|Window} element\n   * @param {Event} e\n   */\n  eventOnHandler (element, e) {\n    if (!e || !e.detail || !e.detail.skip) { // @FIX filter triggered from library (use only in library)\n      // not when opening in new tab\n      if (e.metaKey || e.ctrlKey) {\n        return\n      }\n      // prevent links (needed for xt-ajax to go to links and propagate event if inside targets)\n      e.preventDefault()\n    }\n    // super\n    super.eventOnHandler(element, e)\n  }\n\n  /**\n   * element popstate handler\n   * @param {Event} e\n   */\n  eventPopstateHandler (e) {\n    const self = this\n    // handler\n    if (history.state && history.state.url) {\n      // reinit currents\n      self.initStart()\n      // request set\n      requestAnimationFrame(function () {\n        self.ajaxRequest(null, history.state.url)\n      })\n    }\n  }\n\n  //\n  // queue\n  //\n\n  /**\n   * logic to execute on queue complete\n   * @param {String} actionCurrent Current action\n   * @param {Object} obj Queue object\n   */\n  queueComplete (actionCurrent, obj) {\n    const self = this\n    if (actionCurrent === 'On') {\n      if (!self.initial) {\n        // trigger ajax request\n        self.ajaxRequest(obj.elements.queueEls[0], null)\n      }\n    }\n    super.queueComplete(actionCurrent, obj)\n  }\n\n  //\n  // special\n  //\n\n  /**\n   * ajax request\n   * @param {Node|HTMLElement|EventTarget|Window} element Base node\n   * @param {String} url Url to get\n   */\n  ajaxRequest (element, url) {\n    const self = this\n    const options = self.options\n    // url\n    if (element) {\n      url = element.getAttribute('href').split('#')[0]\n    }\n    // location\n    self.locationFrom = self.locationTo || self.locationFrom // fix fast change page\n    self.locationTo = new URL(url, location)\n    // autoClose\n    dispatchEvent(new CustomEvent('autoClose.xt'))\n    // dispatch\n    const detail = self.eDetailSet()\n    self.object.dispatchEvent(new CustomEvent('request.xt.ajax', { detail: detail }))\n    // duration\n    self.detail.requestDate = new Date()\n    clearTimeout(Xt.dataStorage.get(self.object, self.componentNamespace + 'AjaxDurationTimeout'))\n    if (self.detail.request) {\n      self.detail.request.abort()\n    } // fix fast change page\n    requestAnimationFrame(function () {\n      self.detail.requestDuration = options.duration || Xt.animTime(self.queryElement)\n      // call\n      const request = new XMLHttpRequest()\n      request.open('GET', url, true)\n      request.onload = function () {\n        self.ajaxResponse(element, url, request, self.detail.requestDate)\n      }\n      request.onerror = function () {\n        self.ajaxResponse(element, url, request, self.detail.requestDate)\n      }\n      if (Xt.debug === true) {\n        console.debug('xt-ajax request:', url)\n      }\n      request.send()\n      self.detail.request = request\n    })\n  }\n\n  /**\n   * ajax response\n   * @param {Node|HTMLElement|EventTarget|Window} element Base node\n   * @param {String} url Url to get\n   * @param {XMLHttpRequest} request Html response\n   * @param {Date} date Html response\n   */\n  ajaxResponse (element, url, request, date) {\n    const self = this\n    // dispatch\n    const detail = self.eDetailSet()\n    self.object.dispatchEvent(new CustomEvent('response.xt.ajax', { detail: detail }))\n    // duration\n    self.detail.requestDuration -= new Date() - date\n    if (self.detail.requestDuration > 0) {\n      Xt.dataStorage.set(self.object, self.componentNamespace + 'AjaxDurationTimeout', setTimeout(function () {\n        // request\n        if (request.status >= 200 && request.status <= 300) {\n          self.ajaxSuccess(element, url, request, date)\n        } else {\n          self.ajaxError(element, url, request)\n        }\n      }, self.detail.requestDuration))\n    } else {\n      // request\n      if (request.status >= 200 && request.status <= 300) {\n        self.ajaxSuccess(element, url, request, date)\n      } else {\n        self.ajaxError(element, url, request)\n      }\n    }\n  }\n\n  /**\n   * ajax success\n   * @param {Node|HTMLElement|EventTarget|Window} element Base node\n   * @param {String} url Url to get\n   * @param {XMLHttpRequest} request Html response\n   * @param {Date} date Html response\n   */\n  ajaxSuccess (element, url, request, date) {\n    const self = this\n    const options = self.options\n    // debug\n    if (Xt.debug === true) {\n      console.debug('xt-ajax request success:', url)\n    }\n    // set substitute\n    let html = document.createElement('html')\n    html.innerHTML = request.responseText.trim()\n    const title = html.querySelector('head title').innerHTML\n    let replace = html.querySelector(options.query)\n    // populate dom\n    self.queryElement.outerHTML = replace.outerHTML\n    // queryElement\n    self.queryElement = self.object.querySelector(options.query) || self.object\n    // pushstate\n    self.pushState(url, title)\n    // garbage collector\n    html = null\n    replace = null\n    // dispatch\n    const detail = self.eDetailSet()\n    self.object.dispatchEvent(new CustomEvent('replace.xt.ajax', { detail: detail }))\n    // reinit\n    if (!self.initial &&\n      date === self.detail.requestDate) { // fix fast change page\n      requestAnimationFrame(function () {\n        self.initial = true\n        self.init()\n      })\n    }\n  }\n\n  /**\n   * ajax error\n   * @param {Node|HTMLElement|EventTarget|Window} element Base node\n   * @param {String} url Url to get\n   * @param {XMLHttpRequest} request Html response\n   */\n  ajaxError (element, url, request) {\n    const self = this\n    // debug\n    if (Xt.debug === true) {\n      console.debug('xt-ajax request failed:', url)\n    }\n    // reinit currents\n    self.initStart()\n    // dispatch\n    const detail = self.eDetailSet()\n    self.object.dispatchEvent(new CustomEvent('replace.xt.ajax', { detail: detail }))\n  }\n\n  /**\n   * history pushstate\n   */\n  pushState (url, title) {\n    // push object state\n    if (!history.state || !history.state.url || history.state.url !== url) {\n      document.title = title\n      history.pushState({ url: url, title: title }, title, url)\n    } else {\n      document.title = history.state.title\n    }\n  }\n}\n\n//\n// option\n//\n\nAjax.componentName = 'xt-ajax'\nAjax.optionsDefault = {\n  elements: 'a[href]:not([href^=#])',\n  targets: false,\n  on: 'click',\n  min: 0,\n  max: 1,\n  instant: true,\n  query: 'body', // needs to be unique\n  baseUrl: '/',\n  duration: false,\n  aria: false\n}\n\n//\n// export\n//\n\nXt.Ajax = Ajax\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Xt.Ajax.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Ajax(object, object.getAttribute('data-' + Xt.Ajax.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","import { Xt } from 'xtend-library'\nimport 'xtend-library/src/core/toggle/toggle.js'\n\nclass Drop extends Xt.Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    super(object, optionsJs)\n  }\n\n  //\n  // init\n  //\n\n  /**\n   * init aria\n   */\n  initAriaRole () {\n    const self = this\n    const options = self.options\n    // aria\n    if (options.aria) {\n      // role\n      for (const el of self.elements) {\n        const ariaEls = Xt.queryAll(el, options.ariaControls)\n        const ariaEl = ariaEls.length ? ariaEls[0] : el\n        ariaEl.setAttribute('aria-haspopup', 'listbox')\n      }\n      for (const tr of self.targets) {\n        tr.setAttribute('role', 'listbox')\n      }\n    }\n  }\n}\n\n//\n// option\n//\n\nDrop.componentName = 'xt-drop'\nDrop.optionsDefault = {\n  elements: false,\n  targets: ':scope > .drop',\n  elementsInner: ':scope > a, :scope > button',\n  on: 'click',\n  min: 0,\n  max: 1,\n  instant: { elementsInner: true },\n  autoClose: true,\n  closeOutside: 'body',\n  ariaControls: ':scope > a, :scope > button'\n}\n\n//\n// export\n//\n\nXt.Drop = Drop\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Xt.Drop.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Drop(object, object.getAttribute('data-' + Xt.Drop.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","import { Xt } from 'xtend-library'\nimport 'xtend-library/src/core/toggle/toggle.js'\n\nclass Overlay extends Xt.Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    super(object, optionsJs)\n  }\n\n  //\n  // init\n  //\n\n  /**\n   * init aria\n   */\n  initAriaRole () {\n    const self = this\n    const options = self.options\n    // aria\n    if (options.aria) {\n      // role\n      if (self.targets.length) {\n        for (const el of self.elements) {\n          const ariaEls = Xt.queryAll(el, options.ariaControls)\n          const ariaEl = ariaEls.length ? ariaEls[0] : el\n          ariaEl.setAttribute('aria-haspopup', 'dialog')\n        }\n        for (const tr of self.targets) {\n          tr.setAttribute('role', 'dialog')\n          tr.setAttribute('aria-modal', 'true')\n        }\n      } else {\n        for (const el of self.elements) {\n          el.setAttribute('role', 'dialog')\n          el.setAttribute('aria-modal', 'true')\n        }\n      }\n    }\n  }\n}\n\n//\n// option\n//\n\nOverlay.componentName = 'xt-overlay'\nOverlay.optionsDefault = {\n  elements: ':scope > a, :scope > button',\n  targets: ':scope > .overlay_outer',\n  on: 'click',\n  min: 0,\n  max: 1,\n  instant: { elements: true },\n  autoClose: true,\n  appendTo: 'body',\n  backdrop: 'targets',\n  classHtml: 'xt-overlay',\n  closeInside: '.overlay_dismiss, :scope > .backdrop',\n  scrollbar: true\n}\n\n//\n// export\n//\n\nXt.Overlay = Overlay\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Xt.Overlay.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Overlay(object, object.getAttribute('data-' + Xt.Overlay.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","import { Xt } from 'xtend-library'\nimport 'xtend-library/src/core/toggle/toggle.js'\n\nclass Scroll extends Xt.Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    super(object, optionsJs)\n  }\n\n  //\n  // init\n  //\n\n  /**\n   * init elements, targets and currents\n   */\n  initScope () {\n    super.initScope()\n    const self = this\n    const options = self.options\n    // loop\n    self.targets = []\n    for (const el of self.elements) {\n      if (!options.sticky) {\n        // not sticky\n        self.targets.push(el)\n      } else {\n        // sticky container\n        let container = el.closest('.xt-container')\n        if (!container) {\n          container = Xt.createElement('<div class=\"xt-container xt-fixed--check\"></div>')\n          el.before(container)\n          el.classList.add('xt-ignore', 'xt-ignore--once') // @FIX ignore once for mount when moving\n          container.append(el)\n        }\n        // sticky clone\n        let target = container.querySelector('.xt-clone')\n        if (!target) {\n          target = el.cloneNode(true)\n          target.classList.add('xt-clone', 'xt-ignore')\n          target.classList.remove('xt-ignore--once') // @FIX ignore once for mount when moving\n          for (const elId of target.querySelectorAll('[id]')) {\n            elId.setAttribute('id', elId.getAttribute('id') + '-clone')\n          }\n          for (const elName of target.querySelectorAll('[name]')) {\n            elName.setAttribute('name', elName.getAttribute('name') + '-clone')\n          }\n          container.append(target)\n        }\n        self.targets.push(target)\n        // sticky\n        el.classList.add('xt-fixed', 'xt-sticky')\n        if (options.sticky === 'absolute') {\n          el.classList.add('xt-sticky--absolute')\n        } else if (options.sticky === 'fixed') {\n          el.classList.add('xt-sticky--fixed')\n        } else if (options.sticky === 'fixed-always') {\n          el.classList.add('xt-sticky--fixed-always')\n        }\n        if (target) {\n          target.classList.add('xt-fixed', 'xt-sticky')\n          if (options.sticky === 'absolute') {\n            target.classList.add('xt-sticky--absolute')\n          } else if (options.sticky === 'fixed') {\n            target.classList.add('xt-sticky--fixed')\n          } else if (options.sticky === 'fixed-always') {\n            target.classList.add('xt-sticky--fixed-always')\n          }\n        }\n      }\n      // indicator\n      if (el.classList.contains('indicator')) {\n        const indicatorTrigger = Xt.createElement('<div class=\"xt-ignore xt-indicator xt-indicator--trigger\"></div>')\n        document.body.append(indicatorTrigger)\n        const indicatorStart = Xt.createElement('<div class=\"xt-ignore xt-indicator xt-indicator--start\"></div>')\n        document.body.append(indicatorStart)\n        const indicatorEnd = Xt.createElement('<div class=\"xt-ignore xt-indicator xt-indicator--end\"></div>')\n        document.body.append(indicatorEnd)\n        const indicatorStartReal = Xt.createElement('<div class=\"xt-ignore xt-indicator xt-indicator--start-real\"></div>')\n        document.body.append(indicatorStartReal)\n        const indicatorEndReal = Xt.createElement('<div class=\"xt-ignore xt-indicator xt-indicator--end-real\"></div>')\n        document.body.append(indicatorEndReal)\n      }\n    }\n  }\n\n  /**\n   * init events\n   */\n  initEvents () {\n    const self = this\n    const options = self.options\n    // event on\n    if (options.on) {\n      const scrollHandler = Xt.dataStorage.put(window, options.on + '.' + self.namespace,\n        self.eventScrollHandler.bind(self))\n      const events = [...options.on.split(' ')]\n      for (const event of events) {\n        addEventListener(event, scrollHandler, Xt.passiveSupported ? { passive: true } : false)\n      }\n      requestAnimationFrame(function () {\n        self.eventScrollHandler(null, true)\n      })\n    }\n  }\n\n  //\n  // handler\n  //\n\n  /**\n   * element on handler\n   * @param {Event} e\n   * @param {Boolean} initial\n   */\n  eventScrollHandler (e = null, initial = false) {\n    const self = this\n    // handler\n    if (!e || !e.detail || !e.detail.skip) { // @FIX filter triggered from library (use only in library)\n      Xt.eventDelay(e, self.object, function () {\n        self.eventScroll(e, initial)\n      }, self.componentNamespace + 'Resize')\n    }\n  }\n\n  //\n  // event\n  //\n\n  /**\n   * window scroll\n   * @param {Event} e\n   * @param {Boolean} initial\n   */\n  eventScroll (e, initial) {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // vars\n    let currentOn = 0\n    let currentOff = 0\n    const currentsOn = []\n    const currentsOff = []\n    const scrollingElement = document.scrollingElement\n    const scrollHeight = scrollingElement.scrollHeight\n    const scrollTop = scrollingElement.scrollTop\n    const windowHeight = Xt.windowHeight\n    // direction\n    self.detail.inverseForce = scrollTop < self.detail.scrollTopOld\n    // loop\n    for (const el of self.elements) {\n      const tr = self.getTargets(el)[0]\n      if (!el.classList.contains('scroll--block') && Xt.visible(el) &&\n        tr.offsetParent) { // filter out document.documentElement\n        // vars\n        let changed = false\n        const elTop = tr.offsetParent.getBoundingClientRect().top + tr.offsetTop + scrollTop // we use parents to not include transforms animations\n        const elHeight = tr.offsetHeight\n        // size fix when position fixed\n        if (options.sticky) {\n          el.style.width = tr.offsetWidth + 'px'\n        }\n        // position\n        self.detail.distance = Xt.windowPercent(options.distance)\n        self.detail.trigger = Xt.windowPercent(options.trigger)\n        self.detail.start = self.detail.startReal = elTop - windowHeight + Xt.windowPercent(options.start) + self.detail.distance\n        self.detail.start = self.detail.start < self.detail.trigger ? self.detail.trigger : self.detail.start // limit fixes activation on page top\n        self.detail.end = self.detail.endReal = options.end ? self.detail.start + Xt.windowPercent(options.end) - self.detail.distance : elTop + elHeight + self.detail.trigger - self.detail.distance\n        self.detail.end = self.detail.end > self.detail.trigger + scrollHeight - window.innerHeight ? self.detail.trigger + scrollHeight - window.innerHeight : self.detail.end // limit fixes deactivation on page bottom\n        self.detail.fallback = self.detail.end - Xt.windowPercent(options.fallback)\n        self.detail.start = self.detail.start > self.detail.end ? self.detail.fallback : self.detail.start // limit fixes deactivation on page bottom\n        // ratio\n        const current = scrollTop + self.detail.trigger - self.detail.start\n        const total = self.detail.end - self.detail.start\n        self.detail.ratio = Math.max(0, current) / total\n        self.detail.ratio = self.detail.ratio > 0 ? self.detail.ratio : 0\n        self.detail.ratio = self.detail.ratio < 1 ? self.detail.ratio : 1\n        self.detail.ratioInverse = 1 - self.detail.ratio\n        self.detail.ratioDouble = 1 - Math.abs((self.detail.ratio - 0.5) * 2)\n        // activation\n        if (current >= 0 && current <= total ||\n          self.detail.start > self.detail.end) { // limit fixes activation on page top\n          // inside\n          changed = self.checkOn(el)\n          if (changed) {\n            currentsOn.push(el)\n            cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'ScrollFrame'))\n            Xt.dataStorage.set(el, self.componentNamespace + 'ScrollFrame', requestAnimationFrame(function () {\n              // initial\n              if (initial) {\n                Xt.dataStorage.set(el, self.componentNamespace + 'Initial', true)\n              } else {\n                Xt.dataStorage.remove(el, self.componentNamespace + 'Initial')\n              }\n              // activate\n              Xt.dataStorage.set(el, self.componentNamespace + 'OnCount', currentOn)\n              Xt.dataStorage.set(el, self.componentNamespace + 'OnTot', currentsOn.length)\n              currentOn++\n              self.eventOn(el, true)\n            }))\n          }\n        } else {\n          // outside\n          changed = self.checkOff(el)\n          el.classList.add('scroll--visible')\n          if (changed) {\n            el.classList.add('scroll--once')\n            currentsOff.push(el)\n            cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'ScrollFrame'))\n            Xt.dataStorage.set(el, self.componentNamespace + 'ScrollFrame', requestAnimationFrame(function () {\n              // initial\n              if (initial) {\n                Xt.dataStorage.set(el, self.componentNamespace + 'Initial', true)\n              } else {\n                Xt.dataStorage.remove(el, self.componentNamespace + 'Initial')\n              }\n              // deactivate\n              Xt.dataStorage.set(el, self.componentNamespace + 'OffCount', currentOff)\n              Xt.dataStorage.set(el, self.componentNamespace + 'OffTot', currentsOff.length)\n              currentOff++\n              self.eventOff(el, true)\n            }))\n          }\n        }\n        // direction\n        if (changed) {\n          if (self.detail.inverseForce) {\n            el.classList.add('inverse')\n          } else {\n            el.classList.remove('inverse')\n          }\n        }\n        // indicator\n        if (el.classList.contains('indicator')) {\n          const triggerEl = document.body.querySelector('.xt-indicator--trigger')\n          triggerEl.style.top = self.detail.trigger + 'px'\n          const startEl = document.body.querySelector('.xt-indicator--start')\n          startEl.style.top = (self.detail.start - scrollTop) + 'px'\n          const endEl = document.body.querySelector('.xt-indicator--end')\n          endEl.style.top = (self.detail.end - scrollTop) + 'px'\n          const startRealEl = document.body.querySelector('.xt-indicator--start-real')\n          startRealEl.style.top = (self.detail.startReal - scrollTop) + 'px'\n          const endRealEl = document.body.querySelector('.xt-indicator--end-real')\n          endRealEl.style.top = (self.detail.endReal - scrollTop) + 'px'\n        }\n        // dispatch\n        cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'ScrollDispatchFrame'))\n        Xt.dataStorage.set(el, self.componentNamespace + 'ScrollDispatchFrame', requestAnimationFrame(function () {\n          const detail = self.eDetailSet()\n          el.dispatchEvent(new CustomEvent('change.xt.scroll', { bubbles: true, detail: detail }))\n        }))\n      }\n    }\n    // save for direction\n    cancelAnimationFrame(Xt.dataStorage.get(self.object, self.componentNamespace + 'ScrollObjectFrame'))\n    Xt.dataStorage.set(self.object, self.componentNamespace + 'ScrollDispatchFrame', requestAnimationFrame(function () {\n      self.detail.scrollTopOld = scrollTop\n    }))\n  }\n}\n\n//\n// option\n//\n\nScroll.componentName = 'xt-scroll'\nScroll.optionsDefault = {\n  elements: false,\n  targets: false,\n  on: 'scroll resize',\n  min: 0,\n  max: 'Infinity',\n  instant: true,\n  class: 'fade',\n  classIn: 'fade--in',\n  classOut: 'fade--out',\n  sticky: false,\n  distance: '20%',\n  trigger: '100%',\n  start: '100%',\n  end: false,\n  fallback: 100,\n  aria: false\n}\n\n//\n// export\n//\n\nXt.Scroll = Scroll\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Scroll.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Scroll(object, object.getAttribute('data-' + Xt.Scroll.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","import { Xt } from 'xtend-library'\nimport 'xtend-library/src/core/toggle/toggle.js'\n\nclass Slider extends Xt.Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    super(object, optionsJs)\n  }\n\n  //\n  // init\n  //\n\n  /**\n   * init elements, targets and currents\n   */\n  initScope () {\n    const self = this\n    const options = self.options\n    // targets\n    self.initScopeTargets()\n    // only one call per group\n    for (const slide of self.targets) {\n      Xt.dataStorage.remove(slide, self.componentNamespace + 'SlideOnDone')\n    }\n    // dragger\n    if (options.drag && options.drag.dragger) {\n      self.dragger = self.object.querySelector(options.drag.dragger)\n      self.destroyElements.push(self.dragger)\n    }\n    // autoHeight\n    if (options.autoHeight) {\n      self.autoHeight = self.object.querySelector(options.autoHeight)\n      self.autoHeight.classList.add('xt-autoHeight')\n    }\n    // initSliderGroup\n    self.initSliderGroup()\n    // initSliderPags\n    self.initSliderPags()\n    // initSliderPos\n    if (self.dragger) {\n      self.initSliderPos()\n    }\n    // elements\n    self.initScopeElements()\n  }\n\n  /**\n   * init slider group\n   */\n  initSliderGroup () {\n    const self = this\n    const options = self.options\n    // @FIX disable slider if not overflowing\n    self.object.classList.remove('slider--nooverflow')\n    // drag wrap\n    if (self.dragger && options.drag.wrap) {\n      // clear elements\n      for (const el of self.elements.filter(x => x.classList.contains('xt-wrap'))) {\n        el.remove()\n      }\n      self.elements = self.elements.filter(x => !x.classList.contains('xt-wrap'))\n      // clear targets\n      for (const tr of self.targets.filter(x => x.classList.contains('xt-wrap'))) {\n        tr.remove()\n      }\n      self.targets = self.targets.filter(x => !x.classList.contains('xt-wrap'))\n    }\n    // width\n    const draggerWidth = self.dragger ? self.dragger.offsetWidth : self.object.offsetWidth\n    let draggerWidthAvailable = 0\n    // draggerWidthAvailable\n    if (options.groupMq) {\n      const mqs = Object.entries(options.groupMq)\n      if (mqs.length) {\n        for (const [key, value] of mqs) {\n          if (window.matchMedia(key).matches) {\n            draggerWidthAvailable = draggerWidth * value\n          }\n        }\n      }\n    }\n    // groupMqInitial\n    self.groupMq = []\n    self.groupMq.push([])\n    let currentCount = draggerWidthAvailable\n    let totalCount = draggerWidth\n    for (const target of self.targets) {\n      let targetWidth = target.offsetWidth\n      if (targetWidth === 0) { // when display none\n        const container = target.parentNode\n        const cloned = target.cloneNode(true)\n        cloned.classList.add('xt-calculating', 'xt-ignore')\n        container.append(cloned)\n        targetWidth = cloned.offsetWidth\n        cloned.remove()\n      }\n      currentCount -= targetWidth\n      totalCount -= targetWidth\n      // overflow\n      let currentGroup = self.groupMq.length - 1\n      if (currentCount < 0 && self.groupMq[currentGroup].length) {\n        self.groupMq.push([])\n        currentGroup = self.groupMq.length - 1\n        currentCount = draggerWidthAvailable\n        currentCount -= targetWidth\n      }\n      // assign group\n      self.groupMq[currentGroup].push(target)\n      target.setAttribute('data-xt-group', self.namespace + '-' + currentGroup)\n    }\n    self.groupMqInitial = self.groupMq\n    // @FIX position values negative margins\n    self.detail.fixNegativeMargin = self.groupMq[0][0].offsetLeft\n    // @FIX disable slider if not overflowing\n    if (totalCount >= 0) {\n      self.object.classList.add('slider--nooverflow')\n      self.disable()\n      // enable all visible elements also if not .active next frame when self.elements is populated\n      const afterInitDisable = function () {\n        const currents = self.getCurrents()\n        for (const el of self.elements.filter(x => !currents.includes(self.getElements(x)[0]))) {\n          self.activate(el)\n          for (const tr of self.getTargets(el)) {\n            self.activate(tr)\n          }\n        }\n        self.object.removeEventListener('init.xt', afterInitDisable)\n      }\n      self.object.addEventListener('init.xt', afterInitDisable)\n    }\n    // drag wrap\n    const wrapFirst = []\n    const wrapLast = []\n    if (totalCount < 0) {\n      if (self.dragger && options.drag.wrap) {\n        const container = self.targets[0].parentNode\n        if (!options.loop) {\n          console.error('Error: Xt.Slider needs \"loop\": true when using \"drag\": {\"wrap\": true}', self.object)\n        }\n        if (options.contain) {\n          console.error('Error: Xt.Slider cannot use \"contain\": true when using \"drag\": {\"wrap\": true}', self.object)\n        }\n        const cloneSlide = function (slide) {\n          const cloned = slide.cloneNode(true)\n          Xt.dataStorage.set(cloned, 'xt' + self.componentNamespace + 'cloneSource', slide)\n          cloned.classList.add('xt-clone', 'xt-wrap')\n          cloned.classList.remove(...self.classes, ...self.classesIn, ...self.classesOut, ...self.classesInitial, ...self.classesInverse)\n          return cloned\n        }\n        // wrapLast\n        const wrapLastFunction = function () {\n          let wrapLastCount = draggerWidth\n          for (const [i, group] of self.groupMqInitial.entries()) {\n            wrapLast.push([])\n            for (const slide of group) {\n              const cloned = cloneSlide(slide)\n              container.append(cloned)\n              wrapLast[i].push(cloned)\n              cloned.setAttribute('data-xt-group', self.namespace + '-' + 'wrapLast' + i)\n              self.targets.push(cloned)\n              wrapLastCount -= slide.offsetWidth\n              if (wrapLastCount <= -draggerWidth * (options.drag.wrap - 1)) {\n                return\n              }\n            }\n          }\n        }\n        wrapLastFunction()\n        // wrapFirst\n        const wrapFirstFunction = function () {\n          let wrapFirstCount = draggerWidth\n          for (const [i, group] of self.groupMqInitial.reverse().entries()) {\n            wrapFirst.unshift([])\n            for (const slide of group.reverse()) {\n              const cloned = cloneSlide(slide)\n              container.prepend(cloned)\n              wrapFirst[0].unshift(cloned)\n              cloned.setAttribute('data-xt-group', self.namespace + '-' + 'wrapFirst' + i)\n              self.targets.unshift(cloned)\n              wrapFirstCount -= slide.offsetWidth\n              if (wrapFirstCount <= -draggerWidth * (options.drag.wrap - 1)) {\n                return\n              }\n            }\n            group.reverse() // reset reverse\n          }\n        }\n        wrapFirstFunction()\n        self.groupMqInitial.reverse() // reset reverse\n      }\n    }\n    self.groupMqFirst = wrapFirst\n    self.groupMqLast = wrapLast\n    self.groupMq = wrapFirst.concat(self.groupMq.concat(wrapLast))\n  }\n\n  /**\n   * init slider pagination\n   */\n  initSliderPags () {\n    const self = this\n    const options = self.options\n    // generate elements\n    if (options.pagination) {\n      const pags = self.object.querySelectorAll(options.pagination)\n      if (!pags.length) {\n        console.error('Error: Xt.Slider pagination not found for', self.object)\n      }\n      // pags\n      self.pags = self.pags ? self.pags : []\n      for (const [z, pag] of pags.entries()) {\n        // clean\n        if (self.pags[z]) {\n          for (const oldPag of self.pags[z]) {\n            oldPag.remove()\n          }\n        }\n        // vars\n        const cloned = pag.querySelector('[data-xt-pag]')\n        cloned.classList.add('xt-ignore')\n        const container = cloned.parentNode\n        const arr = self.groupMq\n        // populate\n        self.pags[z] = []\n        for (const [i, group] of arr.entries()) {\n          const item = document.createElement('div') // needed to set innerHTML instead of outerHTML to do html.search also attributes\n          const clone = cloned.cloneNode(true)\n          clone.classList.remove('xt-ignore')\n          clone.classList.add('xt-clone')\n          item.appendChild(clone)\n          let html = item.innerHTML\n          if (html.search(new RegExp('xt-content', 'ig')) !== -1) {\n            let replace = ''\n            for (const slide of group) {\n              replace += slide.querySelector('.slide_pagination_content').innerHTML\n            }\n            html = html.replace(new RegExp('xt-content', 'ig'), replace)\n          }\n          if (html.search(new RegExp('xt-num', 'ig')) !== -1) {\n            html = html.replace(new RegExp('xt-num', 'ig'), (i - self.groupMqFirst.length + 1).toString())\n          }\n          if (html.search(new RegExp('xt-tot', 'ig')) !== -1) {\n            html = html.replace(new RegExp('xt-tot', 'ig'), self.groupMqInitial.length.toString())\n          }\n          item.innerHTML = html\n          item.children[0].setAttribute('data-xt-group', group[0].getAttribute('data-xt-group'))\n          container.insertBefore(item.children[0], cloned)\n          item.remove()\n          self.pags[z][i] = container.querySelectorAll('[data-xt-pag].xt-clone')[i]\n          // drag wrap\n          if (self.dragger && options.drag.wrap) {\n            const min = self.groupMqFirst.length\n            const max = self.groupMqFirst.length + self.groupMqInitial.length - 1\n            if (i < min || i > max) {\n              self.pags[z][i].classList.add('xt-clone', 'xt-wrap', 'display--none')\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * init slider group positions\n   */\n  initSliderPos () {\n    const self = this\n    const options = self.options\n    // reset done\n    for (const slide of self.targets) {\n      Xt.dataStorage.remove(slide, self.componentNamespace + 'GroupPosDone')\n    }\n    // set pos\n    const draggerWidth = self.dragger.offsetWidth\n    // slides pos\n    let slidesWidth = 0\n    for (const slide of self.targets) {\n      if (!Xt.dataStorage.get(slide, self.componentNamespace + 'GroupPosDone') && Xt.visible(slide)) {\n        // vars\n        const targets = self.getTargets(slide)\n        let slideLeft = Infinity\n        let slideWidth = 0\n        let slideHeight = 0\n        let slideHeightTemp = 0\n        // vars\n        for (const target of targets) {\n          const cloneSource = Xt.dataStorage.get(target, 'xt' + self.componentNamespace + 'cloneSource')\n          slideLeft = target.offsetLeft < slideLeft ? slide.offsetLeft : slideLeft\n          if (cloneSource) {\n            // @FIX xt-wrap clone offsetWidth on resize\n            const w = cloneSource.offsetWidth\n            slideWidth += w\n            target.children[0].style.width = w + 'px'\n            // @FIX xt-wrap clone offsetHeight on autoHeight\n            slideHeightTemp = cloneSource.children[0].offsetHeight\n          } else {\n            slideWidth += target.offsetWidth\n            slideHeightTemp = target.children[0].offsetHeight\n          }\n          slidesWidth += slideWidth\n          slideHeight = slideHeightTemp > slideHeight ? slideHeightTemp : slideHeight\n        }\n        for (const target of targets) {\n          Xt.dataStorage.set(target, self.componentNamespace + 'GroupPosDone', true)\n          Xt.dataStorage.set(target, self.componentNamespace + 'GroupHeight', slideHeight)\n        }\n        // pos with alignment\n        let pos\n        if (!self.object.classList.contains('slider--nooverflow')) { // @FIX disable slider if not overflowing\n          if (options.align === 'center') {\n            pos = draggerWidth / 2 - slideLeft - slideWidth / 2\n          } else if (options.align === 'left') {\n            pos = -slideLeft\n          } else if (options.align === 'right') {\n            pos = draggerWidth - slideLeft - slideWidth\n          }\n        }\n        // console.debug(pos, draggerWidth, slideWidth, slide);\n        // save pos\n        for (const target of targets) {\n          Xt.dataStorage.set(target, self.componentNamespace + 'GroupPos', pos)\n        }\n      }\n    }\n    // @FIX xt-wrap clone offsetWidth on resize\n    for (const target of self.targets) {\n      target.children[0].style.width = ''\n    }\n    // min max pos with contain\n    if (options.contain &&\n      slidesWidth > draggerWidth) { // only if slides overflow dragger\n      const slideFirst = self.targets[0]\n      const slideFirstLeft = slideFirst.offsetLeft\n      const slideLast = self.targets[self.targets.length - 1]\n      const slideLastLeft = slideLast.offsetLeft\n      const slideLastWidth = slideLast.offsetWidth\n      const min = -slideFirstLeft\n      const max = -slideLastLeft + draggerWidth - slideLastWidth\n      for (const group of self.groupMq) {\n        for (const target of group) {\n          let pos = Xt.dataStorage.get(target, self.componentNamespace + 'GroupPos')\n          pos = pos > min ? min : pos\n          pos = pos < max ? max : pos\n          Xt.dataStorage.set(target, self.componentNamespace + 'GroupPos', pos)\n        }\n      }\n    }\n    // @FIX position values negative margins\n    for (const target of self.targets) {\n      let pos = Xt.dataStorage.get(target, self.componentNamespace + 'GroupPos')\n      pos += self.detail.fixNegativeMargin\n      Xt.dataStorage.set(target, self.componentNamespace + 'GroupPos', pos)\n    }\n    // set wheel min and max\n    if (options.wheel && options.wheel.selector) {\n      const arr = self.targets.filter(x => !x.classList.contains('xt-wrap'))\n      const first = arr[0]\n      const last = arr[arr.length - 1]\n      self.detail.wheelMin = -Xt.dataStorage.get(first, self.componentNamespace + 'GroupPos')\n      self.detail.wheelMax = -Xt.dataStorage.get(last, self.componentNamespace + 'GroupPos')\n    }\n  }\n\n  /**\n   * init events\n   */\n  initEvents () {\n    super.initEvents()\n    const self = this\n    const options = self.options\n    const dragger = self.dragger\n    // targets\n    for (const slide of self.targets) {\n      // disable links not active slide\n      if (options.jump) {\n        slide.classList.add('links--none')\n      }\n      // slide on\n      const slideOnHandler = Xt.dataStorage.put(slide, 'on' + '.' + self.namespace,\n        self.eventSlideOnHandler.bind(self).bind(self, dragger, slide))\n      slide.addEventListener('on.xt', slideOnHandler, true) // @FIX event.xt: useCapture for custom events order on re-init\n      // slide off\n      const slideOffHandler = Xt.dataStorage.put(slide, 'off' + '.' + self.namespace,\n        self.eventSlideOffHandler.bind(self).bind(self, dragger, slide))\n      slide.addEventListener('off.xt', slideOffHandler, true) // @FIX event.xt: useCapture for custom events order on re-init\n    }\n    // dragger\n    if (options.drag) {\n      // drag start\n      const dragstartHandler = Xt.dataStorage.put(dragger, 'mousedown touchstart' + '.' + self.namespace,\n        self.eventDragstartHandler.bind(self).bind(self, dragger))\n      const events = ['mousedown', 'touchstart']\n      for (const event of events) {\n        dragger.addEventListener(event, dragstartHandler, Xt.passiveSupported ? { passive: true } : false)\n      }\n      // grab\n      if (!self.disabled) {\n        dragger.classList.add('grab')\n      } else {\n        dragger.classList.remove('grab')\n      }\n      // wheel\n      if (options.wheel && options.wheel.selector) {\n        const wheel = self.detail.wheel\n        wheel.addEventListener('wheelstart.xt', self.logicDragstart.bind(self).bind(self, dragger))\n        wheel.addEventListener('wheel.xt', self.logicDrag.bind(self).bind(self, dragger))\n        wheel.addEventListener('wheelend.xt', self.logicDragend.bind(self).bind(self, dragger))\n        wheel.addEventListener('wheelend.xt', self.logicDragfrictionend.bind(self).bind(self, dragger))\n      }\n    }\n    // resize\n    const resizeHandler = Xt.dataStorage.put(window, 'resize' + '.' + self.namespace,\n      self.eventResizeHandler.bind(self).bind(self))\n    addEventListener('resize', resizeHandler)\n  }\n\n  //\n  // handler\n  //\n\n  /**\n   * slide on handler\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Node|HTMLElement|EventTarget|Window} slide\n   * @param {Event} e\n   */\n  eventSlideOnHandler (dragger, slide, e) {\n    const self = this\n    // handler\n    if (slide === e.target) { // @FIX on.xt and off.xt event bubbles\n      self.eventSlideOn(dragger, e)\n    }\n  }\n\n  /**\n   * slide off handler\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Node|HTMLElement|EventTarget|Window} slide\n   * @param {Event} e\n   */\n  eventSlideOffHandler (dragger, slide, e) {\n    const self = this\n    // handler\n    if (slide === e.target) { // @FIX on.xt and off.xt event bubbles\n      self.eventSlideOff(dragger, e)\n    }\n  }\n\n  /**\n   * element drag on handler\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  eventDragstartHandler (dragger, e) {\n    const self = this\n    // handler\n    if (!e.button || e.button !== 2) { // not right click or it gets stuck\n      if (self.initial || !self.checkAnim(Xt.arrSingle(dragger))) {\n        // logic\n        const eventLimit = self.object.querySelectorAll('.event-limit')\n        if (eventLimit.length) {\n          if (!Xt.checkNested(e.target, eventLimit)) {\n            self.eventDragstart(dragger, e)\n          }\n        } else {\n          self.eventDragstart(dragger, e)\n        }\n        // drag end\n        const dragendHandler = Xt.dataStorage.put(dragger, 'mouseup touchend' + '.' + self.namespace,\n          self.eventDragendHandler.bind(self).bind(self, dragger))\n        const events = ['mouseup', 'touchend']\n        for (const event of events) {\n          addEventListener(event, dragendHandler)\n        }\n      }\n    }\n  }\n\n  /**\n   * element drag off handler\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  eventDragendHandler (dragger, e) {\n    const self = this\n    // logic\n    const eventLimit = self.object.querySelectorAll('.event-limit')\n    if (eventLimit.length) {\n      if (!Xt.checkNested(e.target, eventLimit)) {\n        self.eventDragend(dragger, e)\n      }\n    } else {\n      self.eventDragend(dragger, e)\n    }\n  }\n\n  /**\n   * element drag on\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  eventDragstart (dragger, e) {\n    const self = this\n    // event move\n    const dragHandler = Xt.dataStorage.put(dragger, 'mousemove touchmove' + '.' + self.namespace,\n      self.eventDragHandler.bind(self).bind(self, dragger))\n    const events = ['mousemove', 'touchmove']\n    for (const event of events) {\n      dragger.addEventListener(event, dragHandler)\n    }\n    // logic\n    self.logicDragstart(dragger, e)\n  }\n\n  /**\n   * element drag off\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  eventDragend (dragger, e) {\n    const self = this\n    // event off\n    const dragendHandler = Xt.dataStorage.get(dragger, 'mouseup touchend' + '.' + self.namespace)\n    const eventsoff = ['mouseup', 'touchend']\n    for (const event of eventsoff) {\n      removeEventListener(event, dragendHandler)\n    }\n    // event move\n    const dragHandler = Xt.dataStorage.get(dragger, 'mousemove touchmove' + '.' + self.namespace)\n    const eventsmove = ['mousemove', 'touchmove']\n    for (const event of eventsmove) {\n      dragger.removeEventListener(event, dragHandler)\n    }\n    // logic\n    self.logicDragend(dragger, e)\n  }\n\n  /**\n   * element drag handler\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  eventDragHandler (dragger, e) {\n    const self = this\n    // logic\n    self.logicDrag(dragger, e)\n  }\n\n  /**\n   * resize\n   * @param {Event} e\n   */\n  eventResizeHandler (e) {\n    const self = this\n    // reinit\n    if (!self.initial) {\n      Xt.eventDelay(e, self.object, function () {\n        self.initLogic()\n      }, self.componentNamespace + 'Resize')\n    }\n  }\n\n  //\n  // event\n  //\n\n  /**\n   * slide on\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  eventSlideOn (dragger, e) {\n    const self = this\n    const options = self.options\n    const slide = e.target\n    // only one call per group\n    if (Xt.dataStorage.get(slide, self.componentNamespace + 'SlideOnDone')) {\n      return\n    }\n    const targets = self.getTargets(slide)\n    for (const target of targets) {\n      Xt.dataStorage.set(target, self.componentNamespace + 'SlideOnDone', true)\n    }\n    // autoHeight\n    if (self.autoHeight) {\n      let slideHeight = slide.children[0].offsetHeight\n      const groupHeight = Xt.dataStorage.get(slide, self.componentNamespace + 'GroupHeight')\n      slideHeight = groupHeight > slideHeight ? groupHeight : slideHeight\n      slideHeight += 'px'\n      if (self.autoHeight.style.height !== slideHeight) {\n        self.autoHeight.style.height = slideHeight\n        // listener dispatch\n        const detail = self.eDetailSet()\n        slide.dispatchEvent(new CustomEvent('autoHeight.xt', { bubbles: true, detail: detail }))\n      }\n    }\n    // val\n    self.detail.xPos = self.detail.xPosCurrent = self.detail.xPosReal = Xt.dataStorage.get(slide, self.componentNamespace + 'GroupPos')\n    // dragger\n    if (dragger) {\n      // prevent alignment animation\n      dragger.classList.remove('duration-none')\n      // initial or resizing\n      if (self.initial) {\n        // prevent alignment animation\n        dragger.classList.add('duration-none')\n        requestAnimationFrame(function () {\n          dragger.classList.remove('duration-none')\n        })\n      }\n      // drag position\n      dragger.style.transform = 'translateX(' + self.detail.xPos + 'px)'\n      // disable dragger\n      dragger.classList.add('pointer-events--none')\n      for (const nav of self.navs) {\n        nav.classList.add('pointer-events--none')\n      }\n      Xt.animTimeout(dragger, function () {\n        dragger.classList.remove('pointer-events--none')\n        for (const nav of self.navs) {\n          nav.classList.remove('pointer-events--none')\n        }\n      })\n      // disable links\n      dragger.classList.remove('jumps--none')\n      dragger.classList.remove('links--none')\n      // drag wrap\n      if (self.dragger && options.drag.wrap) {\n        const min = self.groupMqFirst.length\n        const max = self.groupMqFirst.length + self.groupMqInitial.length - 1\n        if (self.initial) {\n          // @FIX initial activation\n          if (self.currentIndex < min) {\n            requestAnimationFrame(function () {\n              self.initial = true\n              self.goToIndex(min, true)\n              self.initialCurrents = self.getCurrents().slice(0) // @FIX initialCurrents\n            })\n          }\n        } else {\n          // @FIX wrap with initial\n          Xt.animTimeout(dragger, function () {\n            if (!self.initial) {\n              if (self.currentIndex < min) {\n                self.initial = true\n                self.goToIndex(max + self.currentIndex - min + 1, true) // wrap around xt-wrap items\n              } else if (self.currentIndex > max) {\n                self.initial = true\n                self.goToIndex(min + self.currentIndex - max - 1, true) // wrap around xt-wrap items\n              }\n            }\n          }, 'wrap')\n        }\n      }\n    }\n    // disable links not active slide\n    if (options.jump) {\n      slide.classList.remove('links--none')\n    }\n  }\n\n  /**\n   * slide off\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  eventSlideOff (dragger, e) {\n    const self = this\n    const options = self.options\n    const slide = e.target\n    // disable links not active slide\n    if (options.jump) {\n      slide.classList.add('links--none')\n    }\n    // only one call per group\n    const targets = self.getTargets(slide)\n    for (const target of targets) {\n      Xt.dataStorage.remove(target, self.componentNamespace + 'SlideOnDone')\n    }\n  }\n\n  //\n  // logic\n  //\n\n  /**\n   * element drag on logic\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  logicDragstart (dragger, e) {\n    const self = this\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // save event\n    if (e.detail.wheelX !== undefined) {\n      self.detail.xStart = e.detail.wheelX\n    } else if (e.clientX !== undefined) {\n      self.detail.xStart = e.clientX\n    } else if (e.touches && e.touches.length) {\n      self.detail.xStart = e.touches[0].clientX\n    }\n    // auto\n    self.eventAutoPause()\n    // prevent dragging animation\n    dragger.classList.add('duration-none')\n    // logic\n    self.detail.xVelocity = null\n    self.detail.xVelocityNext = null\n    // listener dispatch\n    if (!self.initial) {\n      const detail = self.eDetailSet(e)\n      dragger.dispatchEvent(new CustomEvent('dragstart.xt.slider', { detail: detail }))\n    }\n  }\n\n  /**\n   * element drag off logic\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  logicDragend (dragger, e) {\n    const self = this\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // save event\n    if (e.detail.wheelX !== undefined) {\n      self.detail.xCurrent = e.detail.wheelX\n    } else if (e.clientX !== undefined) {\n      self.detail.xCurrent = e.clientX\n    } else if (e.touches && e.touches.length) {\n      self.detail.xCurrent = e.touches[0].clientX\n    }\n    // auto\n    self.eventAutoStart()\n    // logic\n    self.logicDragfriction(dragger, e)\n    // listener dispatch\n    if (!self.initial) {\n      const detail = self.eDetailSet(e)\n      dragger.dispatchEvent(new CustomEvent('dragend.xt.slider', { detail: detail }))\n    }\n  }\n\n  /**\n   * element drag friction logic\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  logicDragfriction (dragger, e) {\n    const self = this\n    const options = self.options\n    // friction\n    if (Math.abs(self.detail.xVelocity) > options.drag.frictionLimit) {\n      // disable dragger\n      dragger.classList.add('pointer-events--none')\n      for (const nav of self.navs) {\n        nav.classList.add('pointer-events--none')\n      }\n      // drag\n      self.logicDrag(dragger, e, true)\n      // loop\n      requestAnimationFrame(function () {\n        self.logicDragfriction(dragger, e)\n      })\n    } else {\n      // disable links\n      dragger.classList.remove('links--none')\n      dragger.classList.remove('jumps--none')\n      // dragend\n      requestAnimationFrame(self.logicDragfrictionend.bind(self).bind(e, dragger))\n    }\n  }\n\n  /**\n   * element drag logic\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   * @param {Boolean} friction\n   */\n  logicDrag (dragger, e, friction = false) {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // save event\n    if (e.detail.wheelX !== undefined) {\n      self.detail.xCurrent = e.detail.wheelX\n    } else if (e.clientX !== undefined) {\n      self.detail.xCurrent = e.clientX\n    } else if (e.touches && e.touches.length) {\n      self.detail.xCurrent = e.touches[0].clientX\n    }\n    // calculate\n    let xPos = self.detail.xPosReal\n    const xPosCurrent = self.detail.xPosCurrent || 0\n    const sign = Math.sign(self.detail.xVelocity)\n    if (friction && options.drag.friction) {\n      // momentum\n      const fncFriction = options.drag.friction\n      self.detail.xVelocity = fncFriction(Math.abs(self.detail.xVelocity)) * sign\n      // no momentum when stopping\n      if (self.detail.dragDate) {\n        const dateDiff = new Date() - self.detail.dragDate\n        self.detail.dragDate = null\n        if (dateDiff > options.drag.timeLimit) {\n          self.detail.xVelocity = 0\n        }\n      }\n      // on friction\n      xPos = xPos + self.detail.xVelocity\n      self.detail.xCurrent = xPos + self.detail.xStart - xPosCurrent\n    } else {\n      // momentum\n      self.detail.dragDate = new Date()\n      // on normal drag\n      const xPosOld = xPos || 0\n      xPos = xPosCurrent + (self.detail.xCurrent - self.detail.xStart) * options.drag.factor\n      // keep some velocity (median value of previous frame and not current frame)\n      self.detail.xVelocity = (self.detail.xVelocity + self.detail.xVelocityNext) / 2\n      self.detail.xVelocityNext = xPos - xPosOld\n    }\n    // val\n    self.detail.xPosReal = xPos\n    self.detail.xCurrentReal = self.detail.xCurrent\n    // check\n    const xDist = xPos - xPosCurrent\n    if (Math.abs(xDist) > options.drag.linkThreshold) {\n      // disable links\n      dragger.classList.add('links--none')\n      dragger.classList.add('jumps--none')\n    }\n    // overflow\n    if (options.drag.overflow) {\n      const arr = self.targets.filter(x => !x.classList.contains('xt-wrap'))\n      const first = arr[0]\n      const last = arr[arr.length - 1]\n      const min = Xt.dataStorage.get(first, self.componentNamespace + 'GroupPos')\n      const max = Xt.dataStorage.get(last, self.componentNamespace + 'GroupPos')\n      // overflow\n      const fncOverflow = options.drag.overflow\n      if (friction && options.drag.friction) {\n        if (xPos > min || xPos < max) {\n          self.detail.xVelocity = fncOverflow(Math.abs(self.detail.xVelocity)) * sign\n        }\n      } else {\n        if (xPos > min) {\n          self.detail.xVelocity = 0\n          const overflow = xPos - min\n          xPos = min + fncOverflow(overflow)\n        } else if (xPos < max) {\n          self.detail.xVelocity = 0\n          const overflow = xPos - max\n          xPos = max - fncOverflow(-overflow)\n        }\n      }\n    }\n    // val\n    self.detail.xCurrent = self.detail.xCurrentReal - (self.detail.xPosReal - xPos) // xCurrent when overflowing\n    self.detail.xPosOld = self.detail.xPos\n    self.detail.xPos = xPos\n    // drag position\n    if (self.initial) {\n      self.dragger.classList.add('transition-none')\n    }\n    if (options.drag.drag) {\n      dragger.style.transform = 'translateX(' + self.detail.xPos + 'px)'\n    }\n    if (self.initial) {\n      self.dragger.classList.remove('transition-none')\n    }\n    // listener dispatch\n    if (!self.initial) {\n      const detail = self.eDetailSet(e)\n      dragger.dispatchEvent(new CustomEvent('drag.xt.slider', { detail: detail }))\n    }\n  }\n\n  /**\n   * element drag friction off logic\n   * @param {Node|HTMLElement|EventTarget|Window} dragger\n   * @param {Event} e\n   */\n  logicDragfrictionend (dragger, e) {\n    const self = this\n    const options = self.options\n    const xPosCurrent = self.detail.xPosCurrent || 0\n    // prevent dragging animation\n    dragger.classList.remove('duration-none')\n    // only one call per group\n    const currents = self.getCurrents()\n    for (const current of currents) {\n      for (const target of self.getTargets(current)) {\n        Xt.dataStorage.remove(target, self.componentNamespace + 'SlideOnDone')\n      }\n    }\n    // activate or reset\n    const draggerWidth = self.dragger.offsetWidth\n    const xDist = self.detail.xPosReal - xPosCurrent\n    if (Math.abs(xDist) > options.drag.threshold) {\n      // get nearest\n      let found = self.currentIndex\n      for (const [i, group] of self.groupMq.entries()) {\n        for (const slideCheck of group) {\n          let check\n          if (options.align === 'center') {\n            check = self.detail.xPos - draggerWidth / 2 + slideCheck.offsetLeft\n          } else if (options.align === 'left') {\n            check = self.detail.xPos + slideCheck.offsetLeft\n          } else if (options.align === 'right') {\n            check = self.detail.xPos - draggerWidth + slideCheck.offsetLeft + slideCheck.offsetWidth\n          }\n          if (check < 0 && Xt.visible(slideCheck)) {\n            found = i\n          }\n        }\n      }\n      // goTo with force\n      if (found === self.currentIndex) {\n        // change at least one\n        if (Math.sign(xDist) < 0) {\n          self.goToNext(1, true)\n        } else {\n          self.goToPrev(1, true)\n        }\n      } else {\n        // goToIndex\n        self.goToIndex(found, true)\n      }\n    } else {\n      // val\n      self.detail.xPosOld = self.detail.xPos\n      self.detail.xPos = self.detail.xPosCurrent\n      // disable drag and links\n      Xt.animTimeout(dragger, function () {\n        // disable dragger\n        dragger.classList.remove('pointer-events--none')\n        for (const nav of self.navs) {\n          nav.classList.remove('pointer-events--none')\n        }\n      })\n      // drag position\n      if (self.initial) {\n        self.dragger.classList.add('transition-none')\n      }\n      dragger.style.transform = 'translateX(' + self.detail.xPosCurrent + 'px)'\n      if (self.initial) {\n        self.dragger.classList.remove('transition-none')\n      }\n      // listener dispatch\n      if (!self.initial) {\n        const detail = self.eDetailSet(e)\n        dragger.dispatchEvent(new CustomEvent('dragreset.xt.slider', { detail: detail }))\n      }\n    }\n  }\n}\n\n//\n// option\n//\n\nSlider.componentName = 'xt-slider'\nSlider.optionsDefault = {\n  elements: '[data-xt-pag]',\n  targets: '.slide',\n  on: 'click',\n  min: 1,\n  max: 1,\n  instant: true,\n  loop: true,\n  jump: true,\n  imageLoadedInit: true,\n  navigation: '[data-xt-nav]',\n  wheel: {\n    selector: false,\n    block: true,\n    limit: false,\n    transform: true,\n    horizontal: true,\n    factor: 1,\n    friction: function (delta) {\n      return delta / 9\n    },\n    frictionLimit: 1.5\n  },\n  keyboard: {\n    selector: '.slides'\n  },\n  aria: {\n    labelledby: false\n  },\n  // slider only\n  autoHeight: '.slides',\n  groupMq: { all: 0.8 },\n  align: 'center',\n  contain: false,\n  pagination: '.slider_pagination',\n  drag: {\n    drag: true,\n    wrap: false,\n    dragger: '.slides_inner',\n    threshold: 50,\n    linkThreshold: 50,\n    factor: 1,\n    friction: function (velocity) {\n      return Math.pow(velocity, 0.9)\n    },\n    frictionLimit: 1.5,\n    overflow: function (overflow) {\n      return Math.pow(overflow, 0.73)\n    },\n    timeLimit: 25\n  }\n}\n\n//\n// export\n//\n\nXt.Slider = Slider\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Xt.Slider.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Slider(object, object.getAttribute('data-' + Xt.Slider.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","import { Xt } from 'xtend-library'\nimport 'xtend-library/src/core/toggle/toggle.js'\n\nclass Smooth extends Xt.Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    super(object, optionsJs)\n  }\n}\n\n//\n// option\n//\n\nSmooth.componentName = 'xt-smooth'\nSmooth.optionsDefault = {\n  class: false,\n  wheel: {\n    selector: 'scrollingElement',\n    block: false,\n    limit: true,\n    transform: false,\n    horizontal: false,\n    factor: 1,\n    friction: function (delta) {\n      return delta / 9\n    },\n    frictionLimit: 1.5\n  }\n}\n\n//\n// export\n//\n\nXt.Smooth = Smooth\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Xt.Smooth.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Smooth(object, object.getAttribute('data-' + Xt.Smooth.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","import { Xt } from 'xtend-library'\nimport 'xtend-library/src/core/toggle/toggle.js'\n\nclass Sticky extends Xt.Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    super(object, optionsJs)\n  }\n\n  //\n  // init\n  //\n\n  /**\n   * init elements, targets and currents\n   */\n  initScope () {\n    super.initScope()\n    const self = this\n    const options = self.options\n    // mode\n    self.mode = 'unique'\n    // sticky container\n    for (const el of self.elements) {\n      let container = el.closest('.xt-container')\n      if (!container) {\n        container = Xt.createElement('<div class=\"xt-container xt-fixed--check\"></div>')\n        el.before(container)\n        el.classList.add('xt-ignore', 'xt-ignore--once') // @FIX ignore once for mount when moving\n        container.append(el)\n      }\n      el.style[options.position] = '0px'\n      // sticky clone\n      let target = container.querySelector('.xt-clone')\n      if (!target) {\n        target = el.cloneNode(true)\n        target.classList.add('xt-clone', 'xt-ignore')\n        target.classList.remove('xt-ignore--once') // @FIX ignore once for mount when moving\n        for (const elId of target.querySelectorAll('[id]')) {\n          elId.setAttribute('id', elId.getAttribute('id') + '-clone')\n        }\n        for (const elName of target.querySelectorAll('[name]')) {\n          elName.setAttribute('name', elName.getAttribute('name') + '-clone')\n        }\n        container.append(target)\n      }\n      self.targets.push(target)\n      // sticky\n      el.classList.add('xt-fixed', 'xt-sticky')\n      if (options.sticky === 'absolute') {\n        el.classList.add('xt-sticky--absolute')\n      } else if (options.sticky === 'fixed') {\n        el.classList.add('xt-sticky--fixed')\n      } else if (options.sticky === 'fixed-always') {\n        el.classList.add('xt-sticky--fixed-always')\n      }\n      if (target) {\n        target.classList.add('xt-fixed', 'xt-sticky')\n        if (options.sticky === 'absolute') {\n          target.classList.add('xt-sticky--absolute')\n        } else if (options.sticky === 'fixed') {\n          target.classList.add('xt-sticky--fixed')\n        } else if (options.sticky === 'fixed-always') {\n          target.classList.add('xt-sticky--fixed-always')\n        }\n      }\n      // hide\n      if (options.hide === 'down') {\n        el.classList.add('sticky-hide--down')\n      } else {\n        el.classList.remove('sticky-hide--down')\n      }\n      if (options.hide === 'up') {\n        el.classList.add('sticky-hide--up')\n      } else {\n        el.classList.remove('sticky-hide--up')\n      }\n      // @index--sticky by javascript 100 and decreses with sequential sticky\n      el.style.zIndex = Xt.getStickyIndex()\n    }\n  }\n\n  /**\n   * init events\n   */\n  initEvents () {\n    const self = this\n    const options = self.options\n    // event on\n    if (options.on) {\n      const stickyHandler = Xt.dataStorage.put(window, options.on + '.' + self.namespace,\n        self.eventStickyHandler.bind(self))\n      const events = [...options.on.split(' ')]\n      for (const event of events) {\n        addEventListener(event, stickyHandler, Xt.passiveSupported ? { passive: true } : false)\n      }\n      requestAnimationFrame(function () {\n        self.eventStickyHandler(null, true)\n      })\n    }\n    // autoClose\n    const autoCloseHandler = Xt.dataStorage.put(self.object, 'hide' + '.' + self.namespace,\n      Xt.autoClose.bind(self, self.object))\n    self.object.addEventListener('hide.xt.sticky', autoCloseHandler)\n    // focusin\n    const focusInHandler = Xt.dataStorage.put(document, 'focusin' + '.' + self.namespace,\n      self.eventFocusInHandler.bind(self))\n    document.addEventListener('focusin', focusInHandler, Xt.passiveSupported ? { passive: true } : false)\n  }\n\n  //\n  // handler\n  //\n\n  /**\n   * element on handler\n   * @param {Event} e\n   * @param {Boolean} initial\n   */\n  eventStickyHandler (e = null, initial = false) {\n    const self = this\n    // handler\n    if (!e || !e.detail || !e.detail.skip) { // @FIX filter triggered from library (use only in library)\n      Xt.eventDelay(e, self.object, function () {\n        self.eventSticky(e, initial)\n      }, self.componentNamespace + 'Resize')\n    }\n  }\n\n  /**\n   * element focusin handler\n   * @param {Event} e\n   */\n  eventFocusInHandler (e) {\n    const self = this\n    // handler\n    for (const tr of self.targets) {\n      const el = self.getElements(tr)[0]\n      // show element if is hiding on focus\n      if (el.classList.contains('sticky--hide')) {\n        const active = el.contains(e.target)\n        if (active) {\n          el.style.transform = 'translateY(0px)'\n        } else {\n          el.style.transform = 'translateY(' + Xt.dataStorage.get(el, self.componentNamespace + 'AddOld') + 'px)'\n        }\n      }\n    }\n  }\n\n  //\n  // event\n  //\n\n  /**\n   * window scroll\n   * @param {Event} e\n   * @param {Boolean} initial\n   */\n  eventSticky (e, initial) {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // vars\n    let anim = true\n    let hide = false\n    let add = 0\n    let addHide = 0\n    const windowHeight = Xt.windowHeight\n    const scrollingElement = document.scrollingElement\n    const scrollHeight = scrollingElement.scrollHeight\n    const scrollTop = scrollingElement.scrollTop\n    // direction\n    self.detail.inverseForce = scrollTop < self.detail.scrollTopOld\n    // loop\n    for (const el of self.elements) {\n      const tr = self.getTargets(el)[0]\n      // vars\n      const heightEl = parseFloat(getComputedStyle(el).height)\n      const heightTr = parseFloat(getComputedStyle(tr).height)\n      const topTr = tr.getBoundingClientRect().top\n      // hide\n      if (options.hide === 'down') {\n        if (!self.detail.inverseForce) {\n          addHide = heightTr\n        }\n      }\n      if (options.hide === 'up') {\n        if (self.detail.inverseForce) {\n          addHide = heightTr\n        }\n      }\n      // scroll\n      let top = self.eventStickyPos(options.limit.top || self.targets, scrollTop, topTr)\n      let bottom = self.eventStickyPos(options.limit.bottom, scrollTop, Infinity)\n      if (options.position === 'top') {\n        bottom -= heightTr\n      }\n      if (options.position === 'bottom') {\n        top -= windowHeight - heightTr\n        bottom = Math.abs(scrollHeight - windowHeight - bottom)\n      }\n      // contain and add\n      let addTop = 0\n      let addBottom = 0\n      if (options.contain) {\n        if (options.contain.top) {\n          const addTopObj = self.eventStickyHeight(options.contain.top)\n          addTop = addTopObj.val\n          if (addTop !== null && addTop > topTr) {\n            add = addTop\n            if (!addTopObj.foundHide) {\n              anim = false\n            }\n          } else {\n            addTop = null\n          }\n        }\n        if (options.contain.bottom) {\n          addBottom = self.eventStickyPos(options.contain.bottom)\n          if (addBottom !== null && addBottom < heightEl + addTop) {\n            add = addBottom - heightEl\n            anim = false\n          } else {\n            addBottom = null\n          }\n        }\n      }\n      // save real add for calculation\n      Xt.dataStorage.set(el, self.componentNamespace + 'Add', add)\n      // activation\n      const checkTop = scrollTop >= top - add + addHide\n      const checkBottom = scrollTop < bottom + add - addHide\n      if (checkTop && checkBottom) {\n        // initial\n        if (initial) {\n          Xt.dataStorage.set(el, self.componentNamespace + 'Initial', true)\n        } else {\n          Xt.dataStorage.remove(el, self.componentNamespace + 'Initial')\n        }\n        // inside\n        self.eventOn(el, true)\n        // hide\n        if (addHide) {\n          hide = true\n        }\n      } else {\n        // initial\n        if (initial) {\n          Xt.dataStorage.set(el, self.componentNamespace + 'Initial', true)\n        } else {\n          Xt.dataStorage.remove(el, self.componentNamespace + 'Initial')\n        }\n        // outside\n        self.eventOff(el, true)\n      }\n      // after active\n      if (el.matches(self.classesMatch)) {\n        // hide\n        if (hide) {\n          add = -heightEl\n          if (!el.classList.contains('sticky--hide')) {\n            el.classList.add('sticky--hide')\n            // autoClose\n            dispatchEvent(new CustomEvent('autoClose.xt'))\n            // listener dispatch\n            const detail = self.eDetailSet(e)\n            el.dispatchEvent(new CustomEvent('hide.xt.sticky', { bubbles: true, detail: detail }))\n          }\n        } else {\n          if (el.classList.contains('sticky--hide')) {\n            el.classList.remove('sticky--hide')\n            // listener dispatch\n            const detail = self.eDetailSet(e)\n            el.dispatchEvent(new CustomEvent('show.xt.sticky', { bubbles: true, detail: detail }))\n          }\n        }\n      } else {\n        // reset\n        add = 0\n        anim = false\n      }\n      // anim\n      if (anim && (addTop || !addBottom) && self.detail.scrollTopOld !== undefined) {\n        if (!el.classList.contains('sticky--moving')) {\n          el.classList.add('sticky--moving')\n        }\n      } else {\n        if (el.classList.contains('sticky--moving')) {\n          el.classList.remove('sticky--moving')\n        }\n      }\n      // top and bottom\n      /*\n      if (!checkTop) {\n        if (!el.classList.contains('sticky--top')) {\n          el.classList.add('sticky--top');\n        }\n      } else {\n        if (el.classList.contains('sticky--top')) {\n          el.classList.remove('sticky--top');\n        }\n      }\n      if (!checkBottom) {\n        if (!el.classList.contains('sticky--bottom')) {\n          el.classList.add('sticky--bottom');\n        }\n      } else {\n        if (el.classList.contains('sticky--bottom')) {\n          el.classList.remove('sticky--bottom');\n        }\n      }\n      */\n      // set add\n      if (add !== Xt.dataStorage.get(el, self.componentNamespace + 'AddOld')) {\n        el.style.transform = 'translateY(' + add + 'px)'\n      }\n      // fix position fixed width 100% of parent\n      const width = Xt.normalizeWidth(tr.clientWidth)\n      if (el.style.width !== width) {\n        el.style.width = width\n      }\n      // dispatch\n      const detail = self.eDetailSet()\n      el.dispatchEvent(new CustomEvent('change.xt.sticky', { bubbles: true, detail: detail }))\n      // save for direction\n      Xt.dataStorage.set(el, self.componentNamespace + 'AddOld', add)\n    }\n    // save for direction\n    self.detail.scrollTopOld = scrollTop\n  }\n\n  /**\n   * get position of option\n   * @param {String|Number|Element} option\n   * @param {Number} val Default value\n   * @param {Number} scrollTop Window's scrollTop\n   * @returns {Number} value Option's position (px)\n   */\n  eventStickyPos (option, scrollTop = 0, val = null) {\n    if (!isNaN(parseFloat(option))) {\n      val = option\n    } else {\n      const elements = Array.isArray(option) || option instanceof Element ? option : document.querySelectorAll(option)\n      if (elements.length) {\n        let found = false\n        val = 0\n        for (const el of elements) {\n          const add = Xt.dataStorage.get(el, self.componentNamespace + 'Add')\n          if (add) { // if sticky--hide get real add\n            const style = getComputedStyle(el)\n            if (style.display !== 'none') {\n              val += add\n              found = true\n            }\n          } else {\n            const rect = el.getBoundingClientRect()\n            val += rect.top\n            found = true\n          }\n        }\n        if (found) {\n          val += scrollTop\n        } else {\n          val = null\n        }\n      }\n    }\n    return val\n  }\n\n  //\n  // event util\n  //\n\n  /**\n   * get height of option\n   * @param {String|Number|Element} option\n   * @param {Number} val Default value\n   * @returns {Object} obj Option's height (px) and if found hide element\n   */\n  eventStickyHeight (option, val = null) {\n    const self = this\n    // logic\n    let foundHide = false\n    if (!isNaN(parseFloat(option))) {\n      val = option\n    } else {\n      const elements = Array.isArray(option) || option instanceof Element ? option : document.querySelectorAll(option)\n      if (elements.length) {\n        for (const el of elements) {\n          if (el.classList.contains('sticky-hide--down') && el.matches(self.classesMatch)) {\n            if (self.detail.inverseForce) {\n              val += el.clientHeight\n              foundHide = true\n            }\n          } else if (el.classList.contains('sticky-hide--up') && el.matches(self.classesMatch)) {\n            if (!self.detail.inverseForce) {\n              val += el.clientHeight\n              foundHide = true\n            }\n          } else {\n            val += el.clientHeight\n          }\n        }\n      }\n    }\n    return { val: val, foundHide: foundHide }\n  }\n}\n\n//\n// option\n//\n\nSticky.componentName = 'xt-sticky'\nSticky.optionsDefault = {\n  elements: false,\n  targets: false,\n  on: 'scroll resize',\n  min: 0,\n  max: 'Infinity',\n  instant: true,\n  sticky: true,\n  position: 'top',\n  limit: { bottom: 'Infinity' },\n  contain: false,\n  hide: false,\n  aria: false\n}\n\n//\n// export\n//\n\nXt.Sticky = Sticky\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Xt.Sticky.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Sticky(object, object.getAttribute('data-' + Xt.Sticky.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","import { Xt } from 'xtend-library'\n\nclass Toggle {\n  /**\n   * constructor\n   * @param {Node|HTMLElement|EventTarget|Window} object Base node\n   * @param {Object} optionsJs User options\n   * @constructor\n   */\n  constructor (object, optionsJs = {}) {\n    const self = this\n    self.object = object\n    self.optionsJs = optionsJs\n    self.componentName = self.constructor.componentName\n    self.componentNamespace = self.componentName.replace(/^[^a-z]+|[ ,#_:.-]+/gi, '')\n    Xt.checkDefined(self, function () {\n      self.init()\n    })\n  }\n\n  //\n  // init\n  //\n\n  /**\n   * init\n   */\n  init (object = false, optionsJs = false) {\n    const self = this\n    self.object = object || self.object\n    self.optionsJs = optionsJs || self.optionsJs\n    // vars\n    self.classes = []\n    self.classesIn = []\n    self.classesOut = []\n    self.classesInitial = []\n    self.classesInverse = []\n    self.elements = []\n    self.targets = []\n    self.currentIndex = null\n    self.initialCurrents = []\n    self.detail = {}\n    self.disabled = false\n    self.detail.queueOn = []\n    self.detail.queueOff = []\n    self.detail.inverse = false\n    self.detail.autoPaused = false\n    self.destroyElements = [document, window, self.object]\n    // init\n    self.initVars()\n    self.initSetup()\n    self.initLogic()\n  }\n\n  /**\n   * init vars\n   */\n  initVars () {\n    const self = this\n    // option\n    if (self.constructor.optionsDefaultSuper) {\n      self.optionsDefault = Xt.merge([self.constructor.optionsDefaultSuper, self.constructor.optionsDefault])\n    } else {\n      self.optionsDefault = self.constructor.optionsDefaultSuper\n    }\n    // js options\n    self.options = Xt.merge([self.optionsDefault, self.optionsJs])\n    // markup options\n    const markupOptions = self.object.getAttribute('data-' + self.componentName)\n    self.options = Xt.merge([self.options, markupOptions ? JSON.parse(markupOptions) : {}])\n    // classes\n    self.classes = self.options.class ? [...self.options.class.split(' ')] : []\n    self.classesIn = self.options.classIn ? [...self.options.classIn.split(' ')] : []\n    self.classesOut = self.options.classOut ? [...self.options.classOut.split(' ')] : []\n    self.classesInitial = self.options.classInitial ? [...self.options.classInitial.split(' ')] : []\n    self.classesInverse = self.options.classInverse ? [...self.options.classInverse.split(' ')] : []\n    self.classesMatch = self.classes.length ? '.' + self.classes.join('.') : false\n    self.classesInMatch = self.classesIn.length ? '.' + self.classesIn.join('.') : false\n    self.classesOutMatch = self.classesOut.length ? '.' + self.classesOut.join('.') : false\n    self.classesInitialMatch = self.classesInitial.length ? '.' + self.classesInitial.join('.') : false\n    self.classesInverseMatch = self.classesInverse.length ? '.' + self.classesInverse.join('.') : false\n  }\n\n  /**\n   * init setup\n   */\n  initSetup () {\n    const self = this\n    const options = self.options\n    // setup (based on xtend mode)\n    if (options.targets && options.targets.indexOf('#') !== -1) {\n      // xtend unique mode\n      self.mode = 'unique'\n      self.container = document.documentElement\n      options.max = Infinity\n      self.namespace = self.componentName + '-' + options.targets.toString() + '-' + self.classes.toString()\n    } else {\n      // xtend multiple mode\n      self.mode = 'multiple'\n      self.container = self.object\n      const uniqueId = Xt.dataStorage.get(self.container, 'xtUniqueId')\n      Xt.dataStorage.set(self.container, 'xtUniqueId', uniqueId || Xt.getuniqueId())\n      self.namespace = self.componentName + '-' + Xt.dataStorage.get(self.container, 'xtUniqueId')\n    }\n    // final namespace\n    self.namespace = self.namespace.replace(/^[^a-z]+|[ ,#_:.-]+/gi, '')\n    // currents array based on namespace (so shared between Xt objects)\n    self.setCurrents([])\n  }\n\n  /**\n   * init logic\n   */\n  initLogic () {\n    const self = this\n    self.initScope()\n    self.initAria()\n    self.initStart(true)\n  }\n\n  /**\n   * init elements, targets and currents\n   */\n  initScope () {\n    const self = this\n    // elements\n    self.initScopeElements()\n    // targets\n    self.initScopeTargets()\n  }\n\n  /**\n   * init elements\n   */\n  initScopeElements () {\n    const self = this\n    const options = self.options\n    // elements\n    if (options.elements) {\n      let arr = Array.from(Xt.arrSingle(self.container.querySelectorAll(options.elements)))\n      arr = arr.filter(x => !x.closest('.xt-ignore')) // filter out ignore\n      self.elements = arr\n      self.destroyElements.push(...self.elements)\n    }\n    if (!self.elements.length) {\n      self.elements = Xt.arrSingle(self.object)\n      // @FIX set namespace for next frame\n      requestAnimationFrame(function () {\n        let arr = Array.from(Xt.arrSingle(document.querySelectorAll('[data-xt-namespace=' + self.namespace + ']')))\n        arr = arr.filter(x => !x.closest('.xt-ignore')) // filter out ignore\n        if (arr.length) { // fix when using shadow dom doesn't query deep\n          self.elements = arr\n          self.destroyElements.push(...self.elements)\n        }\n      })\n    }\n  }\n\n  /**\n   * init targets\n   */\n  initScopeTargets () {\n    const self = this\n    const options = self.options\n    // targets\n    if (options.targets) {\n      let arr = Array.from(self.container.querySelectorAll(options.targets))\n      // arr = arr.filter(x => !x.parentElement.closest(options.targets)); // filter out parent\n      arr = arr.filter(x => !x.closest('.xt-ignore')) // filter out ignore\n      self.targets = arr\n      self.destroyElements.push(...self.targets)\n    }\n  }\n\n  /**\n   * init start\n   * @param {Boolean} saveCurrents\n   */\n  initStart (saveCurrents = false) {\n    const self = this\n    const options = self.options\n    // initial\n    let currents = 0\n    self.initial = true\n    self.currentIndex = null\n    // @FIX set namespace for next frame\n    for (const el of self.elements) {\n      el.setAttribute('data-xt-namespace', self.namespace)\n    }\n    // automatic initial currents\n    const elements = self.getGroups()\n    if (elements.length) {\n      // check elements\n      for (const element of elements) {\n        // reset\n        const found = self.initReset(element, saveCurrents)\n        if (found) {\n          // initial\n          currents++\n          // reactivate\n          requestAnimationFrame(function () {\n            // activate\n            self.eventOn(element, true)\n          })\n        }\n      }\n      // if currents < min\n      let todo = options.min - currents\n      if (todo > 0) {\n        let start = 0\n        if (!self.disabled && self.dragger && options.drag.wrap) {\n          start = 1\n          todo += start\n        }\n        // initial\n        currents++\n        // activate\n        requestAnimationFrame(function () {\n          for (let i = start; i < todo; i++) {\n            self.eventOn(self.elements[i], true)\n          }\n        })\n      }\n      // initial\n      self.setCurrents([])\n      if (saveCurrents) {\n        requestAnimationFrame(function () {\n          self.initialCurrents = self.getCurrents().slice(0)\n        })\n      }\n      if (currents === 0) {\n        self.initial = false\n        if (options.auto && options.auto.initial) {\n          self.eventAutoStart()\n        }\n      }\n    }\n    // init events\n    self.initEvents()\n    // listener dispatch\n    requestAnimationFrame(function () {\n      const detail = self.eDetailSet()\n      self.object.dispatchEvent(new CustomEvent('init.xt', { detail: detail }))\n    })\n  }\n\n  /**\n   * init reset element activation\n   * @param {Node|HTMLElement|EventTarget|Window} el Element to check and reset\n   * @returns {Boolean} if element was activated\n   * @param {Boolean} saveCurrents\n   */\n  initReset (el, saveCurrents = false) {\n    const self = this\n    let found = false\n    // reset\n    const reset = function (elReset) {\n      if (elReset.matches(self.classesMatch)) {\n        elReset.classList.remove(...self.classes, ...self.classesIn, ...self.classesOut, ...self.classesInitial, ...self.classesInverse)\n        Xt.dataStorage.remove(elReset, self.componentNamespace + 'Initial')\n        if (saveCurrents) {\n          found = true\n        }\n        // listener dispatch\n        const detail = self.eDetailSet()\n        elReset.dispatchEvent(new CustomEvent('off.xt', { bubbles: true, detail: detail }))\n      }\n      return found\n    }\n    // elements\n    const group = el.getAttribute('data-xt-group')\n    if (group) {\n      const groupEls = Array.from(self.elements).filter(x => x.getAttribute('data-xt-group') === group)\n      for (const groupEl of groupEls) {\n        found = reset(groupEl)\n        if (!saveCurrents && self.initialCurrents.includes(groupEl)) {\n          found = true\n        }\n      }\n    } else {\n      found = reset(el)\n      if (!saveCurrents && self.initialCurrents.includes(el)) {\n        found = true\n      }\n    }\n    // targets\n    const targets = self.getTargets(el)\n    for (const tr of targets) {\n      found = reset(tr)\n    }\n    return found\n  }\n\n  /**\n   * init aria\n   */\n  initAria () {\n    const self = this\n    const options = self.options\n    // role\n    self.initAriaRole()\n    // aria\n    if (options.aria) {\n      if (self.targets.length) {\n        // elements\n        for (const el of self.elements) {\n          const ariaEls = Xt.queryAll(el, options.ariaControls)\n          const ariaEl = ariaEls.length ? ariaEls[0] : el\n          // id\n          if (options.aria === true || options.aria.labelledby || options.aria.controls) {\n            const id = ariaEl.getAttribute('id')\n            if (!id) {\n              ariaEl.setAttribute('id', Xt.getuniqueId())\n            }\n          }\n          // selected\n          ariaEl.setAttribute('aria-selected', 'false')\n        }\n        // targets\n        for (const tr of self.targets) {\n          const els = self.getTargets(tr)\n          // expanded\n          const role = tr.getAttribute('role')\n          if (role === 'tabpanel' || role === 'listbox' || role === 'dialog') {\n            tr.setAttribute('aria-expanded', 'false')\n          }\n          // tabindex\n          if (options.aria === true || options.aria.tabindex) {\n            const focusables = tr.querySelectorAll(Xt.focusables)\n            for (const focusable of focusables) {\n              focusable.setAttribute('tabindex', '-1')\n            }\n          }\n          // id\n          if (options.aria === true || options.aria.labelledby || options.aria.controls) {\n            const id = tr.getAttribute('id')\n            if (!id) {\n              tr.setAttribute('id', Xt.getuniqueId())\n            }\n          }\n          // labelledby\n          if (options.aria === true || options.aria.labelledby) {\n            let str = ' '\n            str += tr.getAttribute('aria-labelledby') || ''\n            for (const el of els) {\n              const ariaEls = Xt.queryAll(el, options.ariaControls)\n              const ariaEl = ariaEls.length ? ariaEls[0] : el\n              str += ' ' + ariaEl.getAttribute('id')\n            }\n            tr.setAttribute('aria-labelledby', str.trim())\n          }\n        }\n        // ariaControls\n        if (options.aria === true || options.aria.controls) {\n          for (const el of self.elements) {\n            const trs = self.getTargets(el)\n            const ariaEls = Xt.queryAll(el, options.ariaControls)\n            const ariaEl = ariaEls.length ? ariaEls[0] : el\n            // controls\n            let str = ' '\n            str += ariaEl.getAttribute('aria-controls') || ''\n            for (const tr of trs) {\n              str += ' ' + tr.getAttribute('id')\n            }\n            ariaEl.setAttribute('aria-controls', str.trim())\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * init aria role\n   */\n  initAriaRole () {\n    const self = this\n    const options = self.options\n    // aria\n    if (options.aria) {\n      if (self.targets.length) {\n        // role\n        if (self.mode === 'multiple') {\n          self.object.setAttribute('role', 'tablist')\n          if (options.max > 1) {\n            self.object.setAttribute('aria-multiselectable', 'true')\n          }\n          for (const el of self.elements) {\n            const ariaEls = Xt.queryAll(el, options.ariaControls)\n            const ariaEl = ariaEls.length ? ariaEls[0] : el\n            ariaEl.setAttribute('role', 'tab')\n          }\n          for (const tr of self.targets) {\n            tr.setAttribute('role', 'tabpanel')\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * init events\n   */\n  initEvents () {\n    const self = this\n    const options = self.options\n    // status\n    const checkHandler = Xt.dataStorage.put(window, 'resize.check' + '.' + self.namespace,\n      self.eventStatusHandler.bind(self).bind(self))\n    addEventListener('resize', checkHandler)\n    self.eventStatusHandler()\n    // event\n    for (const el of self.elements) {\n      // event on\n      if (options.on) {\n        const onHandler = Xt.dataStorage.put(el, options.on + '.' + self.namespace,\n          self.eventOnHandler.bind(self).bind(self, el))\n        const events = [...options.on.split(' ')]\n        for (const event of events) {\n          el.addEventListener(event, onHandler)\n        }\n        el.addEventListener('on.xt', onHandler)\n        // @FIX off.xt toggle\n        if (!options.off) {\n          el.addEventListener('off.xt', onHandler)\n        }\n        // @FIX prevents click on touch until clicked two times\n        if (events.includes('mouseenter') || events.includes('mousehover')) {\n          const touchLinksStartHandler = Xt.dataStorage.put(el, 'touchend.touchfix' + '.' + self.namespace,\n            self.eventTouchLinksStartHandler.bind(self).bind(self, el))\n          el.addEventListener('touchend', touchLinksStartHandler)\n        }\n      }\n      // event off\n      if (options.off) {\n        const offHandler = Xt.dataStorage.put(el, options.off + '.' + self.namespace,\n          self.eventOffHandler.bind(self).bind(self, el))\n        if (options.off) {\n          const events = [...options.off.split(' ')]\n          for (const event of events) {\n            el.addEventListener(event, offHandler)\n          }\n        }\n        el.addEventListener('off.xt', offHandler)\n      }\n    }\n    // listener\n    for (const tr of self.targets) {\n      const el = self.getElements(tr)[0]\n      if (el) {\n        // event\n        const onHandler = Xt.dataStorage.get(el, options.on + '.' + self.namespace)\n        tr.addEventListener('on.xt', onHandler)\n        const offHandler = Xt.dataStorage.get(el, options.off + '.' + self.namespace)\n        tr.addEventListener('off.xt', offHandler)\n        // @FIX off.xt toggle\n        if (!options.off) {\n          tr.addEventListener('off.xt', onHandler)\n        }\n      }\n    }\n    // auto\n    if (options.auto && options.auto.time) {\n      // focus auto\n      const focusHandler = Xt.dataStorage.put(window, 'focus' + '.' + self.namespace,\n        self.eventAutoResumeHandler.bind(self))\n      addEventListener('focus', focusHandler)\n      // blur auto\n      const blurHandler = Xt.dataStorage.put(window, 'blur' + '.' + self.namespace,\n        self.eventAutoPauseHandler.bind(self))\n      addEventListener('blur', blurHandler)\n      // autoPause\n      if (options.auto && options.auto.pause) {\n        const autoPauseEls = self.object.querySelectorAll(options.auto.pause)\n        if (autoPauseEls.length) {\n          self.destroyElements.push(...autoPauseEls)\n          for (const el of autoPauseEls) {\n            // pause\n            const autoPauseOnHandler = Xt.dataStorage.put(el, 'mouseenter focus' + '.' + self.namespace,\n              self.eventAutoPauseHandler.bind(self))\n            const eventsPause = ['mouseenter', 'focus']\n            for (const event of eventsPause) {\n              el.addEventListener(event, autoPauseOnHandler)\n            }\n            // resume\n            const autoResumeOnHandler = Xt.dataStorage.put(el, 'mouseleave blur' + '.' + self.namespace,\n              self.eventAutoResumeHandler.bind(self))\n            const eventsResume = ['mouseleave', 'blur']\n            for (const event of eventsResume) {\n              el.addEventListener(event, autoResumeOnHandler)\n            }\n          }\n        }\n      }\n    }\n    // jump\n    if (options.jump) {\n      for (const jump of self.targets) {\n        const jumpHandler = Xt.dataStorage.put(jump, 'click.jump' + '.' + self.namespace,\n          self.eventJumpHandler.bind(self).bind(self, jump))\n        jump.addEventListener('click', jumpHandler, true) // useCapture or it gets the click from elements inside the target\n        // jump\n        if (!self.disabled) {\n          jump.classList.add('jump')\n        } else {\n          jump.classList.remove('jump')\n        }\n      }\n    }\n    // navigation\n    if (options.navigation) {\n      self.navs = self.object.querySelectorAll(options.navigation)\n      if (self.navs.length) {\n        self.destroyElements.push(...self.navs)\n        for (const nav of self.navs) {\n          const navHandler = Xt.dataStorage.put(nav, 'click.nav' + '.' + self.namespace,\n            self.eventNavHandler.bind(self).bind(self, nav))\n          nav.addEventListener('click', navHandler)\n        }\n      }\n    }\n    // keyboard\n    if (options.keyboard && options.keyboard.selector) {\n      const keyboards = options.keyboard.selector === 'object' ? Xt.arrSingle(self.object) : self.object.querySelectorAll(options.keyboard.selector)\n      self.destroyElements.push(...keyboards)\n      for (const keyboard of keyboards) {\n        keyboard.setAttribute('tabindex', '0')\n        // focus\n        const keyboardFocusHandler = Xt.dataStorage.put(keyboard, 'focus.keyboard' + '.' + self.namespace,\n          self.eventKeyboardFocusHandler.bind(self).bind(self, keyboard))\n        keyboard.addEventListener('focus', keyboardFocusHandler)\n        // blur\n        const keyboardBlurHandler = Xt.dataStorage.put(keyboard, 'blur.keyboard' + '.' + self.namespace,\n          self.eventKeyboardBlurHandler.bind(self).bind(self, keyboard))\n        keyboard.addEventListener('blur', keyboardBlurHandler)\n      }\n    }\n    // autoClose\n    if (options.autoClose) {\n      const autoCloseHandler = Xt.dataStorage.put(window, 'autoClose' + '.' + self.namespace,\n        self.eventAutoCloseHandler.bind(self))\n      addEventListener('autoClose.xt', autoCloseHandler)\n    }\n    // images\n    for (const el of self.elements.filter(x => !x.classList.contains('xt-clone'))) {\n      const imgs = el.querySelectorAll('img')\n      self.destroyElements.push(...imgs)\n      for (const img of imgs) {\n        if (!Xt.dataStorage.get(img, self.componentNamespace + 'ImageLoadedDone')) {\n          Xt.dataStorage.set(img, self.componentNamespace + 'ImageLoadedDone', true)\n          if (!img.complete) {\n            const imgLoadHandler = Xt.dataStorage.put(img, 'load' + '.' + self.namespace,\n              self.eventImgLoadedHandler.bind(self).bind(self, el, true))\n            img.addEventListener('load', imgLoadHandler)\n          } else {\n            self.eventImgLoadedHandler(el, false)\n          }\n        }\n      }\n    }\n    for (const tr of self.targets.filter(x => !x.classList.contains('xt-clone'))) {\n      const imgs = tr.querySelectorAll('img')\n      self.destroyElements.push(...imgs)\n      for (const img of imgs) {\n        if (!Xt.dataStorage.get(img, self.componentNamespace + 'ImageLoadedDone')) {\n          Xt.dataStorage.set(img, self.componentNamespace + 'ImageLoadedDone', true)\n          if (!img.complete) {\n            const imgLoadHandler = Xt.dataStorage.put(img, 'load' + '.' + self.namespace,\n              self.eventImgLoadedHandler.bind(self).bind(self, tr, true))\n            img.addEventListener('load', imgLoadHandler)\n          } else {\n            self.eventImgLoadedHandler(tr, false)\n          }\n        }\n      }\n    }\n    // wheel\n    if (options.wheel && options.wheel.selector) {\n      const wheel = self.detail.wheel = options.wheel.selector === 'object' ? self.object\n        : options.wheel.selector === 'scrollingElement' ? document.scrollingElement\n          : self.object.querySelector(options.wheel.selector)\n      self.destroyElements.push(wheel)\n      const eWheel = 'onwheel' in wheel ? 'wheel' : wheel.onmousewheel !== undefined ? 'mousewheel' : 'DOMMouseScroll'\n      // wheel\n      const wheelHandler = Xt.dataStorage.put(wheel, eWheel + '.' + self.namespace,\n        self.eventWheelHandler.bind(self))\n      wheel.addEventListener(eWheel, wheelHandler, Xt.passiveSupported ? { passive: false } : false)\n      // stop\n      const wheelStopHandler = Xt.dataStorage.put(wheel, eWheel + '.stop' + '.' + self.namespace,\n        self.eventWheelStop.bind(self))\n      wheel.addEventListener('stop.wheel.xt', wheelStopHandler, Xt.passiveSupported ? { passive: false } : false)\n      // block\n      if (options.wheel.block) {\n        const block = wheel.parentNode\n        const wheelBlockHandler = Xt.dataStorage.put(block, eWheel + '.block' + '.' + self.namespace,\n          self.eventWheelBlockHandler.bind(self))\n        block.addEventListener(eWheel, wheelBlockHandler, Xt.passiveSupported ? { passive: false } : false)\n      }\n    }\n  }\n\n  //\n  // handler\n  //\n\n  /**\n   * element on handler\n   * @param {Node|HTMLElement|EventTarget|Window} element\n   * @param {Event} e\n   */\n  eventOnHandler (element, e) {\n    const self = this\n    const options = self.options\n    // handler\n    if (element === e.target || // @FIX on.xt and off.xt event bubbles\n      element.contains(e.target)) { // @FIX on.xt and off.xt event bubbles (use only in library)\n      if (!e || !e.detail || !e.detail.skip) { // @FIX filter triggered from library (use only in library)\n        // event block\n        if (options.onBlock) {\n          const now = new Date().getTime()\n          const old = Xt.dataStorage.get(element, self.componentNamespace + 'EventBlock' + e.type) || 0\n          Xt.dataStorage.set(element, self.componentNamespace + 'EventBlock' + e.type, now)\n          if (now - old < options.onBlock) {\n            return\n          }\n        }\n        // on handler\n        const eventLimit = self.container.querySelectorAll('.event-limit')\n        if (eventLimit.length) {\n          if (!Xt.checkNested(e.target, eventLimit)) {\n            self.eventOn(element, false, e)\n          }\n        } else {\n          self.eventOn(element, false, e)\n        }\n      }\n    }\n  }\n\n  /**\n   * element off handler\n   * @param {Node|HTMLElement|EventTarget|Window} element\n   * @param {Event} e\n   */\n  eventOffHandler (element, e) {\n    const self = this\n    const options = self.options\n    // handler\n    if (element === e.target || // @FIX on.xt and off.xt event bubbles\n      element.contains(e.target)) { // @FIX on.xt and off.xt event bubbles (use only in library)\n      if (!e || !e.detail || !e.detail.skip) { // @FIX filter triggered from library (use only in library)\n        // event block\n        if (options.offBlock) {\n          const now = new Date().getTime()\n          const old = Xt.dataStorage.get(element, self.componentNamespace + 'EventBlock' + e.type) || 0\n          Xt.dataStorage.set(element, self.componentNamespace + 'EventBlock' + e.type, now)\n          if (now - old < options.offBlock) {\n            return\n          }\n        }\n        // off handler\n        const eventLimit = self.container.querySelectorAll('.event-limit')\n        if (eventLimit.length) {\n          if (!Xt.checkNested(e.target, eventLimit)) {\n            self.eventOff(element, false, e)\n          }\n        } else {\n          self.eventOff(element, false, e)\n        }\n      }\n    }\n  }\n\n  /**\n   * init prevents click on touch until clicked two times\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Event} e\n   */\n  eventTouchLinksStartHandler (el, e) {\n    const self = this\n    // event touchLinks\n    const touchLinksHandler = Xt.dataStorage.put(el, 'click.touchfix' + '.' + self.namespace,\n      self.eventTouchLinksHandler.bind(self).bind(self, el))\n    el.addEventListener('click', touchLinksHandler)\n    // event touchReset\n    const touchResetHandler = Xt.dataStorage.put(el, 'off.touchfix' + '.' + self.namespace,\n      self.eventTouchLinksResetHandler.bind(self).bind(self, el))\n    el.addEventListener('off.xt', touchResetHandler)\n  }\n\n  /**\n   * remove prevents click on touch until clicked two times\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   */\n  eventTouchLinksEndHandler (el) {\n    const self = this\n    // event touchLinks\n    const touchLinksHandler = Xt.dataStorage.get(el, 'click.touchfix' + '.' + self.namespace)\n    el.removeEventListener('click', touchLinksHandler)\n    // event touchReset\n    const touchResetHandler = Xt.dataStorage.get(el, 'off.touchfix' + '.' + self.namespace)\n    el.removeEventListener('off.xt', touchResetHandler)\n  }\n\n  /**\n   * prevents click on touch until clicked two times\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Event} e\n   */\n  eventTouchLinksHandler (el, e) {\n    const self = this\n    if (!Xt.dataStorage.get(el, self.componentNamespace + 'TouchLinksDone')) {\n      Xt.dataStorage.set(el, self.componentNamespace + 'TouchLinksDone', true)\n      // prevent default\n      e.preventDefault()\n    } else {\n      self.eventTouchLinksEndHandler(el)\n      Xt.dataStorage.remove(el, self.componentNamespace + 'TouchLinksDone')\n    }\n  }\n\n  /**\n   * reset prevents click on touch until clicked two times\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Event} e\n   */\n  eventTouchLinksResetHandler (el, e) {\n    const self = this\n    self.eventTouchLinksEndHandler(el)\n    Xt.dataStorage.remove(el, self.componentNamespace + 'TouchLinksDone')\n  }\n\n  /**\n   * auto pause handler\n   * @param {Event} e\n   */\n  eventAutoPauseHandler (e) {\n    const self = this\n    if (!e || !e.detail || !e.detail.skip) { // @FIX filter triggered from library (use only in library)\n      if (!self.detail.autoPaused) {\n        self.eventAutoPause()\n        // paused\n        self.detail.autoPaused = true\n      }\n    }\n  }\n\n  /**\n   * auto resume handler\n   * @param {Event} e\n   */\n  eventAutoResumeHandler (e) {\n    const self = this\n    if (!e || !e.detail || !e.detail.skip) { // @FIX filter triggered from library (use only in library)\n      if (self.detail.autoPaused) {\n        self.eventAutoStart()\n        // paused\n        self.detail.autoPaused = false\n      }\n    }\n  }\n\n  /**\n   * jump handler\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Event} e\n   */\n  eventJumpHandler (el, e) {\n    const self = this\n    // handler\n    self.eventJump(el, e)\n  }\n\n  /**\n   * nav handler\n   * @param {Node|HTMLElement|EventTarget|Window} nav\n   * @param {Event} e\n   */\n  eventNavHandler (nav, e) {\n    const self = this\n    // handler\n    self.eventNav(nav, e)\n  }\n\n  /**\n   * keyboard focus handler\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Event} e\n   */\n  eventKeyboardFocusHandler (el, e) {\n    const self = this\n    // handler\n    const keyboardHandler = Xt.dataStorage.put(document, 'keyup.keyboard' + '.' + self.namespace,\n      self.eventKeyboardHandler.bind(self))\n    document.addEventListener('keyup', keyboardHandler)\n  }\n\n  /**\n   * keyboard blur handler\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Event} e\n   */\n  eventKeyboardBlurHandler (el, e) {\n    // handler\n    const keyboardHandler = Xt.dataStorage.get(document, 'keyup.keyboard' + '.' + self.namespace)\n    document.removeEventListener('keyup', keyboardHandler)\n  }\n\n  /**\n   * keyboard handler\n   * @param {Event} e\n   */\n  eventKeyboardHandler (e) {\n    const self = this\n    const options = self.options\n    // key\n    const code = e.keyCode ? e.keyCode : e.which\n    let prev\n    let next\n    if (options.keyboard.vertical) {\n      if (options.keyboard.inverse) {\n        prev = 40\n        next = 38\n      } else {\n        prev = 38\n        next = 40\n      }\n    } else {\n      if (options.keyboard.inverse) {\n        prev = 39\n        next = 37\n      } else {\n        prev = 37\n        next = 39\n      }\n    }\n    if (code === prev) {\n      self.goToPrev(1)\n    } else if (code === next) {\n      self.goToNext(1)\n    }\n  }\n\n  /**\n   * autoClose handler\n   * @param {Event} e\n   */\n  eventAutoCloseHandler (e) {\n    const self = this\n    // restart\n    const currents = self.getCurrents()\n    for (const current of currents) {\n      self.eventOff(current, true)\n    }\n  }\n\n  /**\n   * imageLoaded\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Boolean} deferred\n   */\n  eventImgLoadedHandler (el, deferred = true) {\n    const self = this\n    const options = self.options\n    // class\n    el.classList.add('xt-imageLoaded')\n    // listener dispatch\n    const detail = self.eDetailSet()\n    detail.deferred = deferred\n    el.dispatchEvent(new CustomEvent('imageLoaded.xt', { bubbles: true, detail: detail }))\n    // imageLoadedInit\n    if (options.imageLoadedInit && deferred) {\n      clearTimeout(Xt.dataStorage.get(self.object, 'xt' + self.componentNamespace + 'imageLoadedInit' + 'Timeout'))\n      Xt.dataStorage.set(self.object, 'xt' + self.componentNamespace + 'imageLoadedInit' + 'Timeout', setTimeout(function () {\n        self.initLogic()\n      }, Xt.imageLoadedDelay))\n    }\n  }\n\n  //\n  // event util\n  //\n\n  /**\n   * get groups (one element per group)\n   * @returns {Array} array of elements\n   */\n  getGroups () {\n    const self = this\n    // groups\n    const groups = []\n    for (const element of self.elements) {\n      // choose element by group\n      const group = element.getAttribute('data-xt-group')\n      if (group) {\n        const found = groups.filter(x => x.getAttribute('data-xt-group') === group)\n        if (!found.length) {\n          groups.push(element)\n        }\n      } else {\n        groups.push(element)\n      }\n    }\n    return groups\n  }\n\n  /**\n   * get elements from element or target\n   * @param {Node|HTMLElement|EventTarget|Window} el Element that triggered interaction\n   * @returns {Array} The first element is the one on getGroups()\n   */\n  getElements (el) {\n    const self = this\n    // getElements\n    if (!self.elements || !self.elements.length) {\n      return []\n    }\n    if (self.mode === 'unique' || !el) {\n      // choose all elements\n      return self.elements\n    } else if (self.mode === 'multiple') {\n      // choose element by group\n      let final\n      const group = el.getAttribute('data-xt-group')\n      const groupElements = Array.from(self.elements).filter(x => x.getAttribute('data-xt-group') === group)\n      const groupTargets = Array.from(self.targets).filter(x => x.getAttribute('data-xt-group') === group)\n      if (group) {\n        // all group targets if group\n        final = Xt.arrSingle(groupElements)\n      } else {\n        // not group targets by index if not group\n        if (Array.from(self.elements).includes(el)) { // @FIX when argument is already element\n          final = Xt.arrSingle(el)\n        } else {\n          const index = groupTargets.findIndex(x => x === el)\n          final = Xt.arrSingle(groupElements[index])\n        }\n      }\n      return final\n    }\n  }\n\n  /**\n   * get targets from element or target\n   * @param {Node|HTMLElement|EventTarget|Window} el Element that triggered interaction\n   * @returns {Array}\n   */\n  getTargets (el) {\n    const self = this\n    // getTargets\n    if (!self.targets || !self.targets.length) {\n      return []\n    }\n    if (self.mode === 'unique' || !el) {\n      // choose all targets\n      return self.targets\n    } else if (self.mode === 'multiple') {\n      // choose only target by group\n      let final\n      const group = el.getAttribute('data-xt-group')\n      const groupElements = Array.from(self.elements).filter(x => x.getAttribute('data-xt-group') === group)\n      const groupTargets = Array.from(self.targets).filter(x => x.getAttribute('data-xt-group') === group)\n      if (group) {\n        // all group targets if group\n        final = Xt.arrSingle(groupTargets)\n      } else {\n        // not group targets by index if not group\n        if (Array.from(self.targets).includes(el)) { // @FIX when argument is already target\n          final = Xt.arrSingle(el)\n        } else {\n          const index = groupElements.findIndex(x => x === el)\n          final = Xt.arrSingle(groupTargets[index])\n        }\n      }\n      return final\n    }\n  }\n\n  /**\n   * get currents based on namespace (so shared between Xt objects)\n   * @returns {Array}\n   */\n  getCurrents () {\n    const self = this\n    // getCurrents\n    return Xt.currents[self.namespace]\n  }\n\n  /**\n   * set currents based on namespace (so shared between Xt objects)\n   * @param {Array} arr\n   */\n  setCurrents (arr) {\n    const self = this\n    // setCurrents\n    Xt.currents[self.namespace] = arr\n  }\n\n  /**\n   * add current based on namespace (so shared between Xt objects)\n   * @param {Node|HTMLElement|EventTarget|Window} element To be added\n   */\n  addCurrent (element) {\n    const self = this\n    // addCurrent\n    if (!self.hasCurrent(element)) {\n      const arr = Xt.currents[self.namespace]\n      arr.push(element)\n    }\n  }\n\n  /**\n   * remove currents based on namespace (so shared between Xt objects)\n   * @param {Node|HTMLElement|EventTarget|Window} element To be removed\n   */\n  removeCurrent (element) {\n    const self = this\n    // removeCurrent\n    Xt.currents[self.namespace] = Xt.currents[self.namespace].filter(x => x !== element)\n  }\n\n  /**\n   * if element or target is in current (so shared between Xt objects)\n   * @param {Node|HTMLElement|EventTarget|Window} element To be checked\n   */\n  hasCurrent (element) {\n    const self = this\n    // hasCurrent\n    const groupElements = self.getElements(element)\n    return Xt.currents[self.namespace].filter(x => x === groupElements[0]).length\n  }\n\n  /**\n   * check element on\n   * @param {Node|HTMLElement|EventTarget|Window} element To be checked\n   * @returns {Boolean} If elements can activate\n   */\n  checkOn (element) {\n    const self = this\n    // check\n    return !self.hasCurrent(element)\n  }\n\n  /**\n   * check element off\n   * @param {Node|HTMLElement|EventTarget|Window} element To be checked\n   * @returns {Boolean} If elements can deactivate\n   */\n  checkOff (element) {\n    const self = this\n    const options = self.options\n    // skip if min >= currents\n    if (options.min - self.getCurrents().length >= 0) {\n      return false\n    }\n    // check\n    return self.hasCurrent(element)\n  }\n\n  /**\n   * check elements animation\n   * @param {NodeList|Array} elements To be checked\n   * @returns {Boolean} If elements are animating\n   */\n  checkAnim (elements) {\n    const self = this\n    // check\n    elements = elements.filter(x => x.matches(self.classesInMatch) || x.matches(self.classesOutMatch))\n    return elements.length > 0\n  }\n\n  /**\n   * set index and direction\n   * @param {Node|HTMLElement|EventTarget|Window} element Current element\n   */\n  setIndexAndDirection (element) {\n    const self = this\n    // setIndexAndDirection\n    let index = 0\n    for (const [i, el] of self.elements.entries()) {\n      if (el === element) {\n        index = i\n        break\n      }\n    }\n    self.detail.inverse = self.detail.inverseForce !== null ? self.detail.inverseForce : self.currentIndex > index\n    self.detail.inverseForce = null\n    self.currentIndex = index\n  }\n\n  /**\n   * set e detail\n   * @param {Event} e\n   */\n  eDetailSet (e = null) {\n    // e.detail\n    const detail = e && e.detail && typeof e.detail === 'object' ? e.detail : {}\n    // detail\n    detail.self = this\n    detail.skip = true\n    // return\n    return detail\n  }\n\n  /**\n   * activate element\n   * @param {Node|HTMLElement|EventTarget|Window} el Elements to be activated\n   */\n  activate (el) {\n    const self = this\n    // activate\n    el.classList.add(...self.classes)\n    el.classList.add(...self.classesIn)\n    el.classList.remove(...self.classesOut)\n    if (self.initial || Xt.dataStorage.get(el, self.componentNamespace + 'Initial')) {\n      el.classList.add(...self.classesInitial)\n    }\n    if (!self.detail.inverse) {\n      el.classList.remove(...self.classesInverse)\n    } else {\n      el.classList.add(...self.classesInverse)\n    }\n  }\n\n  /**\n   * deactivate element\n   * @param {Node|HTMLElement|EventTarget|Window} el Elements to be deactivated\n   */\n  deactivate (el) {\n    const self = this\n    // activate\n    el.classList.remove(...self.classes)\n    el.classList.remove(...self.classesIn)\n    el.classList.add(...self.classesOut)\n    if (!self.initial && !Xt.dataStorage.get(el, self.componentNamespace + 'Initial')) {\n      el.classList.remove(...self.classesInitial)\n    }\n    if (!self.detail.inverse) {\n      el.classList.remove(...self.classesInverse)\n    } else {\n      el.classList.add(...self.classesInverse)\n    }\n  }\n\n  //\n  // event\n  //\n\n  /**\n   * element on\n   * @param {Node|HTMLElement|EventTarget|Window} element To be activated\n   * @param {Boolean} force\n   * @param {Event} e\n   * @returns {Boolean} If activated\n   */\n  eventOn (element, force = false, e = null) {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return false\n    }\n    // toggle\n    if (force || (self.checkOn(element) &&\n      (!e || !e.type || e.type !== 'off.xt'))) { // @FIX off.xt toggle\n      // auto\n      if (options.auto && options.auto.time) {\n        self.eventAutoStop()\n      }\n      // on\n      const groupElements = self.getElements(element)\n      self.addCurrent(groupElements[0])\n      self.setIndexAndDirection(element)\n      const targets = self.getTargets(element)\n      const elementsInner = Xt.queryAll(element, options.elementsInner)\n      const targetsInner = Xt.queryAll(targets, options.targetsInner)\n      // if currents > max\n      const currents = self.getCurrents()\n      if (currents.length > options.max) {\n        // deactivate old\n        self.eventOff(currents[0])\n      }\n      // detail\n      const detail = self.eDetailSet(e)\n      // queue obj\n      const actionCurrent = 'On'\n      const actionOther = 'Off'\n      self.eventQueue(actionCurrent, detail, groupElements, targets, elementsInner, targetsInner)\n      // queue run\n      for (const type in self.detail['queue' + actionCurrent][0]) {\n        self.queueStart(actionCurrent, actionOther, type, 0, true)\n      }\n      // activated\n      return true\n    } else if ((!e || !e.type || e.type !== 'on.xt')) { // @FIX off.xt toggle\n      // off\n      self.eventOff(element, false, e)\n    }\n    // activated\n    return false\n  }\n\n  /**\n   * element off\n   * @param {Node|HTMLElement|EventTarget|Window} element To be deactivated\n   * @param {Boolean} force\n   * @param {Event} e\n   * @returns {Boolean} If deactivated\n   */\n  eventOff (element, force = false, e = null) {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return false\n    }\n    // toggle\n    if (force || self.checkOff(element)) {\n      // off\n      const groupElements = self.getElements(element)\n      self.removeCurrent(groupElements[0])\n      const targets = self.getTargets(element)\n      const elementsInner = Xt.queryAll(element, options.elementsInner)\n      const targetsInner = Xt.queryAll(targets, options.targetsInner)\n      if (element.blur) { // @FIX sometimes blur is undefined\n        element.blur() // @FIX :focus styles\n      }\n      // currentIndex after a frame for sequential events\n      requestAnimationFrame(function () {\n        if (self.getCurrents().length === 0) {\n          self.currentIndex = null\n        }\n      })\n      // auto\n      if (!self.getCurrents().length) {\n        self.eventAutoStop()\n      }\n      // detail\n      const detail = self.eDetailSet(e)\n      // queue obj\n      const actionCurrent = 'Off'\n      const actionOther = 'On'\n      self.eventQueue(actionCurrent, detail, groupElements, targets, elementsInner, targetsInner)\n      // if queue too big\n      if (self.detail['queue' + actionCurrent].length > options.max) {\n        // remove queue on and done other queue\n        const removedOn = self.detail['queue' + actionOther].shift()\n        self.queueStop(actionOther, actionCurrent, removedOn)\n        // remove queue off and done other queue\n        const removedOff = self.detail['queue' + actionCurrent].shift()\n        self.queueStop(actionCurrent, actionOther, removedOff)\n      }\n      // queue run\n      for (const type in self.detail['queue' + actionCurrent][0]) {\n        self.queueStart(actionCurrent, actionOther, type, 0, true)\n      }\n      // deactivated\n      return true\n    }\n    // deactivated\n    return false\n  }\n\n  /**\n   * element on\n   * @param {String} actionCurrent\n   * @param {Event} detail\n   * @param {NodeList|Array|Node|HTMLElement|EventTarget|Window} groupElements\n   * @param {NodeList|Array|Node|HTMLElement|EventTarget|Window} targets\n   * @param {NodeList|Array|Node|HTMLElement|EventTarget|Window} elementsInner\n   * @param {NodeList|Array|Node|HTMLElement|EventTarget|Window} targetsInner\n   */\n  eventQueue (actionCurrent, detail, groupElements, targets, elementsInner, targetsInner) {\n    const self = this\n    const options = self.options\n    // populate\n    const obj = {}\n    obj.elements = {\n      detail: detail,\n      queueEls: groupElements\n    }\n    if (targets.length) {\n      obj.targets = {\n        detail: detail,\n        queueEls: targets\n      }\n    }\n    if (elementsInner.length) {\n      obj.elementsInner = {\n        detail: detail,\n        queueEls: elementsInner\n      }\n    }\n    if (targetsInner.length) {\n      obj.targetsInner = {\n        detail: detail,\n        queueEls: targetsInner\n      }\n    }\n    // put in queue\n    if (typeof options.instant !== 'object' && options.instant === true) {\n      self.detail['queue' + actionCurrent] = [obj]\n    } else {\n      self.detail['queue' + actionCurrent].unshift(obj)\n    }\n  }\n\n  /**\n   * auto start\n   */\n  eventAutoStart () {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // start\n    if (options.auto && options.auto.time) {\n      // paused\n      self.detail.autoPaused = false\n      // clear\n      clearInterval(Xt.dataStorage.get(self.object, self.componentNamespace + 'AutoStartInterval'))\n      // auto\n      const time = options.auto.time\n      if (self.currentIndex !== null && // not when nothing activated\n        (!self.initial || options.auto.initial)) { // not when initial\n        Xt.dataStorage.set(self.object, self.componentNamespace + 'AutoStartInterval', setInterval(function () { // interval because can become :visible\n          if (Xt.visible(self.object)) {\n            // auto\n            if (getComputedStyle(self.object).pointerEvents !== 'none') { // not when disabled\n              if (options.auto.inverse) {\n                self.goToPrev(options.auto.step, true)\n              } else {\n                self.goToNext(options.auto.step, true)\n              }\n            }\n          }\n        }, time))\n        // listener dispatch\n        const detail = self.eDetailSet()\n        self.object.dispatchEvent(new CustomEvent('start.xt.auto', { detail: detail }))\n      }\n    }\n  }\n\n  /**\n   * auto stop\n   */\n  eventAutoStop () {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // stop\n    if (options.auto && options.auto.time) {\n      // clear\n      clearInterval(Xt.dataStorage.get(self.object, self.componentNamespace + 'AutoStartInterval'))\n      // listener dispatch\n      const detail = self.eDetailSet()\n      self.object.dispatchEvent(new CustomEvent('stop.xt.auto', { detail: detail }))\n    }\n  }\n\n  /**\n   * auto stop\n   */\n  eventAutoPause () {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // pause\n    if (options.auto && options.auto.time) {\n      // clear\n      clearInterval(Xt.dataStorage.get(self.object, self.componentNamespace + 'AutoStartInterval'))\n      // listener dispatch\n      const detail = self.eDetailSet()\n      self.object.dispatchEvent(new CustomEvent('pause.xt.auto', { detail: detail }))\n    }\n  }\n\n  /**\n   * jump\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Event} e\n   */\n  eventJump (el, e) {\n    const self = this\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // check disabled\n    if (el.closest('.jumps--none')) {\n      return\n    }\n    // jump\n    const element = self.getTargets(el)[0]\n    if (self.checkOn(element)) {\n      self.eventOn(element)\n    }\n  }\n\n  /**\n   * nav\n   * @param {Node|HTMLElement|EventTarget|Window} nav\n   * @param {Event} e\n   */\n  eventNav (nav, e) {\n    const self = this\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // nav\n    let index = 0\n    if (self.currentIndex !== null) {\n      index = self.currentIndex + parseFloat(nav.getAttribute('data-xt-nav'))\n    }\n    self.goToIndex(index, true)\n  }\n\n  //\n  // queue\n  //\n\n  /**\n   * queue start\n   * @param {String} actionCurrent Current action\n   * @param {String} actionOther Other action\n   * @param {String} type Type of element\n   * @param {Number} index Queue index\n   * @param {Boolean} queueInitial If it's the initial queue\n   */\n  queueStart (actionCurrent, actionOther, type, index, queueInitial = false) {\n    const self = this\n    const options = self.options\n    // queue start\n    const obj = self.detail['queue' + actionCurrent][index]\n    if (obj && obj[type] && !obj[type].done) {\n      const objOther = self.detail['queue' + actionOther][self.detail['queue' + actionOther].length - 1]\n      if (!objOther || !objOther[type] || objOther[type].done) {\n        if (typeof options.instant !== 'object' && options.instant === true) {\n          obj[type].instant = true\n        } else if (typeof options.instant === 'object' && options.instant[type]) {\n          obj[type].instantType = true\n        }\n        self.queueDelay(actionCurrent, actionOther, obj, type, queueInitial)\n      }\n    }\n  }\n\n  /**\n   * queue stop\n   * @param {String} actionCurrent Current action\n   * @param {String} actionOther Other action\n   * @param {Object} obj Queue object to end\n   */\n  queueStop (actionCurrent, actionOther, obj) {\n    const self = this\n    // stop type if done\n    for (const type in obj) {\n      if (obj[type].done) {\n        for (const el of obj[type].queueEls) {\n          // clear timeout and frame\n          cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n          clearTimeout(Xt.dataStorage.get(el, self.componentNamespace + 'DelayTimeout'))\n          clearTimeout(Xt.dataStorage.get(el, self.componentNamespace + 'AnimTimeout'))\n          // done other queue\n          self.queueDelayDone(actionOther, actionCurrent, obj, el, type, true)\n          self.queueAnimDone(actionOther, actionCurrent, obj, el, type, true)\n        }\n      }\n    }\n  }\n\n  /**\n   * queue stop all\n   */\n  queueStopAll () {\n    const self = this\n    // stop all obj in queues\n    const actions = [\n      { current: 'On', other: 'Off' },\n      { current: 'Off', other: 'On' }\n    ]\n    for (const action of actions) {\n      const queue = self.detail['queue' + action.current]\n      for (const obj in queue) {\n        self.queueStop(action.current, action.other, obj)\n      }\n    }\n  }\n\n  /**\n   * queue delay\n   * @param {String} actionCurrent Current action\n   * @param {String} actionOther Other action\n   * @param {Object} obj Queue object\n   * @param {String} type Type of elements\n   * @param {Boolean} queueInitial If it's the initial queue\n   */\n  queueDelay (actionCurrent, actionOther, obj, type, queueInitial) {\n    const self = this\n    const options = self.options\n    // delay\n    const els = obj[type].queueEls\n    for (const el of els) {\n      // delay\n      let delay = options['delay' + actionCurrent]\n      if (delay) {\n        if (isNaN(delay)) {\n          const count = Xt.dataStorage.get(el, self.componentNamespace + actionCurrent + 'Count') || els.findIndex(x => x === el)\n          const tot = Xt.dataStorage.get(el, self.componentNamespace + actionCurrent + 'Tot') || els.length\n          if (typeof delay === 'function') {\n            delay = delay(count, tot - 1)\n          }\n        } else {\n          delay = queueInitial ? 0 : delay\n        }\n      }\n      // delay fnc\n      clearTimeout(Xt.dataStorage.get(el, self.componentNamespace + 'DelayTimeout'))\n      clearTimeout(Xt.dataStorage.get(el, self.componentNamespace + 'AnimTimeout'))\n      if (delay) {\n        Xt.dataStorage.set(el, self.componentNamespace + 'DelayTimeout', setTimeout(function () {\n          self.queueDelayDone(actionCurrent, actionOther, obj, el, type)\n        }, delay))\n      } else {\n        self.queueDelayDone(actionCurrent, actionOther, obj, el, type)\n      }\n      // queue done\n      if (obj[type].instant) {\n        if (el === els[els.length - 1]) { // only if last element\n          self.queueDone(actionCurrent, actionOther, obj, type)\n        }\n      }\n    }\n  }\n\n  /**\n   * queue delay done\n   * @param {String} actionCurrent Current action\n   * @param {String} actionOther Other action\n   * @param {Object} obj Queue object\n   * @param {Node|HTMLElement|EventTarget|Window} el Elements to be deactivated\n   * @param {String} type Type of elements\n   * @param {Boolean} skipQueue If skip queue\n   */\n  queueDelayDone (actionCurrent, actionOther, obj, el, type, skipQueue = false) {\n    const self = this\n    const options = self.options\n    if (actionCurrent === 'On') {\n      // activate\n      self.activate(el)\n      // special\n      const before = getComputedStyle(el, ':before').getPropertyValue('content').replace(/['\"]+/g, '')\n      const after = getComputedStyle(el, ':after').getPropertyValue('content').replace(/['\"]+/g, '')\n      self.specialCenter(el, before, after)\n      self.specialMiddle(el, before, after)\n      self.specialCollapse(actionCurrent, el, before, after)\n      if (type === 'targets' ||\n        (!self.targets.length && type === 'elements')) { // @FIX when standalone\n        // appendTo\n        if (options.appendTo) {\n          const appendToTarget = document.querySelector(options.appendTo)\n          const appendOrigin = document.querySelector('[data-xt-origin=' + self.namespace + ']')\n          if (!appendOrigin) {\n            el.before(Xt.createElement('<div class=\"xt-ignore\" data-xt-origin=' + self.namespace + '></div>'))\n          }\n          el.classList.add('xt-ignore', 'xt-ignore--once') // @FIX ignore once for mount when moving\n          appendToTarget.appendChild(el)\n        }\n      }\n      if (type === 'targets' || type === 'targetsInner') {\n        self.specialClose(actionCurrent, el, obj.elements.queueEls[0])\n      }\n      // aria\n      if (options.aria) {\n        if (type === 'elements') {\n          // selected\n          const ariaEls = Xt.queryAll(el, options.ariaControls)\n          const ariaEl = ariaEls.length ? ariaEls[0] : el\n          ariaEl.setAttribute('aria-selected', 'true')\n        }\n        if (type === 'targets') {\n          // expanded\n          const role = el.getAttribute('role')\n          if (role === 'tabpanel' || role === 'listbox' || role === 'dialog') {\n            el.setAttribute('aria-expanded', 'true')\n          }\n        }\n      }\n      // listener dispatch\n      el.dispatchEvent(new CustomEvent('on.xt', { bubbles: true, detail: obj[type].detail }))\n    } else if (actionCurrent === 'Off') {\n      // deactivate\n      self.deactivate(el)\n      // special\n      const before = getComputedStyle(el, ':before').getPropertyValue('content').replace(/['\"]+/g, '')\n      const after = getComputedStyle(el, ':after').getPropertyValue('content').replace(/['\"]+/g, '')\n      self.specialCollapse(actionCurrent, el, before, after)\n      if (type === 'targets' || type === 'targetsInner') {\n        self.specialClose(actionCurrent, el)\n      }\n      // listener dispatch\n      el.dispatchEvent(new CustomEvent('off.xt', { bubbles: true, detail: obj[type].detail }))\n    }\n    // queue\n    if (!skipQueue) {\n      self.queueAnim(actionCurrent, actionOther, obj, el, type)\n      // queue done\n      if (obj[type].instantType) {\n        const els = obj[type].queueEls\n        if (el === els[els.length - 1]) { // only if last element\n          self.queueDone(actionCurrent, actionOther, obj, type)\n        }\n      }\n    }\n  }\n\n  /**\n   * queue anim\n   * @param {String} actionCurrent Current action\n   * @param {String} actionOther Other action\n   * @param {Object} obj Queue object\n   * @param {Node|HTMLElement|EventTarget|Window} el Element to be animated\n   * @param {String} type Type of element\n   */\n  queueAnim (actionCurrent, actionOther, obj, el, type) {\n    const self = this\n    const options = self.options\n    // anim\n    const duration = Xt.animTime(el, options['duration' + actionCurrent])\n    clearTimeout(Xt.dataStorage.get(el, self.componentNamespace + 'AnimTimeout'))\n    if (!duration) {\n      self.queueAnimDone(actionCurrent, actionOther, obj, el, type)\n    } else {\n      Xt.dataStorage.set(el, self.componentNamespace + 'AnimTimeout', setTimeout(function () {\n        self.queueAnimDone(actionCurrent, actionOther, obj, el, type)\n      }, duration))\n    }\n  }\n\n  /**\n   * queue anim done\n   * @param {String} actionCurrent Current action\n   * @param {String} actionOther Other action\n   * @param {Object} obj Queue object\n   * @param {Node|HTMLElement|EventTarget|Window} el Element to be animated\n   * @param {String} type Type of element\n   * @param {Boolean} skipQueue If skip queue\n   */\n  queueAnimDone (actionCurrent, actionOther, obj, el, type, skipQueue = false) {\n    const self = this\n    const options = self.options\n    if (actionCurrent === 'On') {\n      // reset\n      el.classList.remove(...self.classesIn)\n      // special\n      const before = getComputedStyle(el, ':before').getPropertyValue('content').replace(/['\"]+/g, '')\n      const after = getComputedStyle(el, ':after').getPropertyValue('content').replace(/['\"]+/g, '')\n      self.specialCollapse('Reset', el, before, after)\n      // aria\n      if (options.aria) {\n        // tabindex\n        if (options.aria === true || options.aria.tabindex) {\n          if (type === 'targets') {\n            const focusables = el.querySelectorAll(Xt.focusables)\n            for (const focusable of focusables) {\n              focusable.removeAttribute('tabindex')\n            }\n          }\n        }\n      }\n      // listener dispatch\n      el.dispatchEvent(new CustomEvent('ondone.xt', { bubbles: true, detail: obj[type].detail }))\n    } else if (actionCurrent === 'Off') {\n      // reset\n      el.classList.remove(...self.classesOut)\n      // special\n      if (type === 'targets' ||\n        (!self.targets.length && type === 'elements')) { // @FIX when standalone\n        // appendTo\n        if (options.appendTo) {\n          const appendOrigin = document.querySelector('[data-xt-origin=' + self.namespace + ']')\n          if (appendOrigin) {\n            el.classList.add('xt-ignore', 'xt-ignore--once') // @FIX ignore once for mount when moving\n            appendOrigin.before(el)\n            appendOrigin.remove()\n          } else {\n            el.remove()\n          }\n        }\n      }\n      // aria\n      if (options.aria) {\n        // selected\n        if (type === 'elements') {\n          const ariaEls = Xt.queryAll(el, options.ariaControls)\n          const ariaEl = ariaEls.length ? ariaEls[0] : el\n          ariaEl.setAttribute('aria-selected', 'false')\n        }\n        if (type === 'targets') {\n          // expanded\n          const role = el.getAttribute('role')\n          if (role === 'tabpanel' || role === 'listbox' || role === 'dialog') {\n            el.setAttribute('aria-expanded', 'false')\n          }\n          // tabindex\n          if (options.aria === true || options.aria.tabindex) {\n            const focusables = el.querySelectorAll(Xt.focusables)\n            for (const focusable of focusables) {\n              focusable.setAttribute('tabindex', '-1')\n              focusable.blur()\n            }\n          }\n        }\n      }\n      // listener dispatch\n      el.dispatchEvent(new CustomEvent('offdone.xt', { bubbles: true, detail: obj[type].detail }))\n    }\n    // queue\n    if (!skipQueue) {\n      // queue done\n      if (!obj[type].instant && !obj[type].instantType) {\n        const els = obj[type].queueEls\n        if (el === els[els.length - 1]) { // only if last element\n          self.queueDone(actionCurrent, actionOther, obj, type)\n        }\n      }\n    }\n  }\n\n  /**\n   * queue done\n   * @param {String} actionCurrent Current action\n   * @param {String} actionOther Other action\n   * @param {Object} obj Queue object\n   * @param {String} type Type of element\n   */\n\n  queueDone (actionCurrent, actionOther, obj, type) {\n    const self = this\n    // check\n    if (obj[type]) {\n      // type done\n      obj[type].done = true\n      // check done\n      let done = 0\n      for (const type in obj) {\n        if (obj[type].done) {\n          done++\n        }\n      }\n      // one done\n      if (done === 1) {\n        // queue progress\n        self.queueProgress(actionCurrent, obj)\n      }\n      // queue\n      self.queueStart(actionOther, actionCurrent, type, self.detail['queue' + actionOther].length - 1)\n      // all done\n      if (done === Object.entries(obj).length) {\n        // remove queue\n        self.detail['queue' + actionCurrent].pop()\n        // queue complete\n        self.queueComplete(actionCurrent, obj)\n      }\n    }\n  }\n\n  /**\n   * logic to execute on queue first progress\n   * @param {String} actionCurrent Current action\n   * @param {Object} obj Queue object\n   */\n  queueProgress (actionCurrent, obj) {\n    const self = this\n    const options = self.options\n    if (actionCurrent === 'On') {\n      // special\n      self.specialBackdrop(obj)\n      self.specialClassHtml(actionCurrent)\n      self.specialScrollbar(actionCurrent)\n      // focus\n      if (options.scrollbar) {\n        const el = obj.targets ? obj.targets.queueEls[0] : obj.elements.queueEls[0]\n        Xt.focus.block = true\n        Xt.focusLimit.on(el)\n        el.focus()\n      }\n    } else if (actionCurrent === 'Off') {\n      // special\n      self.specialClassHtml(actionCurrent)\n      // focus\n      if (options.scrollbar) {\n        Xt.focus.block = false\n        Xt.focusLimit.off()\n        Xt.focus.current.focus()\n      }\n    }\n  }\n\n  /**\n   * logic to execute on queue complete\n   * @param {String} actionCurrent Current action\n   * @param {Object} obj Queue object\n   */\n  queueComplete (actionCurrent, obj) {\n    const self = this\n    const options = self.options\n    if (actionCurrent === 'On') {\n      // auto\n      if (options.auto && options.auto.time) {\n        self.eventAutoStart()\n      }\n      // initial\n      self.initial = false\n    } else if (actionCurrent === 'Off') {\n      // special\n      self.specialScrollbar(actionCurrent)\n    }\n  }\n\n  //\n  // wheel\n  //\n\n  /**\n   * wheel handler\n   * @param {Event} e\n   */\n  eventWheelHandler (e) {\n    const self = this\n    self.eventWheelSmooth(e)\n  }\n\n  /**\n   * wheel block handler\n   * @param {Event} e\n   */\n  eventWheelBlockHandler (e) {\n    const self = this\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // prevent default if not loop\n    const max = self.getGroups().length - 1\n    const delta = -e.deltaY || -e.detail || e.wheelDelta || e.wheelDeltaY\n    if ((delta > 0 && self.currentIndex > 0) || (delta < 0 && self.currentIndex < max - 1)) {\n      // prevent wheel\n      e.preventDefault()\n      e.stopPropagation()\n    }\n  }\n\n  /**\n   * event wheel smooth for Xt\n   * @param {Event} e\n   */\n\n  eventWheelSmooth (e) {\n    const self = this\n    const options = self.options\n    let el = self.detail.wheel\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // delta\n    let delta = -e.deltaY || -e.detail || e.wheelDelta || e.wheelDeltaY\n    if (delta === 0) {\n      return\n    }\n    // if document.scrollingElement scroll current overflow scroll\n    if (el === document.scrollingElement) {\n      let elFinal\n      for (let composed of e.composedPath()) {\n        if (composed instanceof Element) {\n          const overflowY = getComputedStyle(composed).overflowY\n          if (composed === document.body) {\n            composed = document.scrollingElement // @FIX use scrollingElement when body\n          }\n          if (composed === document.scrollingElement || // always when scrollingElement\n            overflowY === 'scroll' || // always when scroll\n            (overflowY === 'auto' && composed.scrollHeight > composed.clientHeight)) { // only when scrollable\n            if (overflowY === 'scroll' && window.self === window.top) { // always when scroll and not iframe\n              elFinal = composed\n            } else if ((delta < 0 || composed.scrollTop > 0) && // limit top\n              (delta > 0 || composed.scrollTop < composed.scrollHeight - composed.clientHeight)) { // limit bottom\n              elFinal = composed\n            } else if (window.self !== window.top) {\n              elFinal = window.top.document.scrollingElement\n            } else {\n              elFinal = window.self.document.scrollingElement\n            }\n            break\n          }\n        }\n      }\n      if (!elFinal) {\n        return\n      } else if (elFinal === document.body) {\n        elFinal = self.object // document.scrollingElement\n      }\n      el = elFinal\n    }\n    // delta\n    if (e.deltaMode === 1) {\n      // deltaMode 1: by lines\n      delta *= 30\n    } else if (e.deltaMode === 2) {\n      // deltaMode 2: by pages\n      if (options.wheel.horizontal) {\n        delta *= el.offsetWidth\n      } else {\n        delta *= el.offsetHeight\n      }\n    }\n    // factor\n    delta *= options.wheel.factor\n    // instant\n    if (!options.wheel.friction) {\n      // wheel\n      if (delta < 0) {\n        self.goToNext(1)\n      } else if (delta > 0) {\n        self.goToPrev(1)\n      }\n      // dispatch\n      const detail = self.eDetailSet(e)\n      self.detail.wheel.dispatchEvent(new CustomEvent('wheelstart.xt', { detail: detail }))\n      self.detail.wheel.dispatchEvent(new CustomEvent('wheelend.xt', { detail: detail }))\n      // return\n      return\n    }\n    // min and max\n    const min = self.detail.wheelMin || 0\n    let max = self.detail.wheelMax\n    // calculate max\n    if (!self.detail.wheelMax) {\n      if (!options.wheel.transform) {\n        if (options.wheel.horizontal) {\n          max = el.scrollWidth - el.offsetWidth\n        } else {\n          max = el.scrollHeight - el.offsetHeight\n        }\n      } else {\n        let full = 0\n        if (options.wheel.horizontal) {\n          for (const child of el.children) {\n            full += child.offsetWidth\n          }\n          max = full - el.offsetWidth\n        } else {\n          for (const child of el.children) {\n            full += child.offsetHeight\n          }\n          max = full - el.offsetHeight\n        }\n      }\n    }\n    // calculate end\n    if (!self.detail.wheelMoving) {\n      // get current\n      if (!options.wheel.transform) {\n        if (options.wheel.horizontal) {\n          self.detail.wheelCurrent = el.scrollLeft\n        } else {\n          self.detail.wheelCurrent = el.scrollTop\n        }\n      } else {\n        if (options.wheel.horizontal) {\n          self.detail.wheelCurrent = -Xt.getTranslate(el)[0]\n        } else {\n          self.detail.wheelCurrent = -Xt.getTranslate(el)[1]\n        }\n      }\n      // set end\n      self.detail.wheelEnd = self.detail.wheelCurrent - delta\n    } else {\n      // set end\n      self.detail.wheelEnd = self.detail.wheelEnd - delta\n    }\n    // friction to limit\n    if (options.wheel.limit) {\n      // limit\n      self.detail.wheelEnd = Math.max(min, Math.min(self.detail.wheelEnd, max))\n    }\n    // propagate if already at min or max\n    if (self.detail.wheelMin && self.detail.wheelMax) { // only when setting wheelMin and wheelMax\n      if (delta < 0) {\n        if (self.detail.wheelCurrent >= max) {\n          return\n        }\n      } else if (delta > 0) {\n        if (self.detail.wheelCurrent <= min) {\n          return\n        }\n      }\n    }\n    // prevent wheel\n    e.preventDefault()\n    // moving\n    if (!self.detail.wheelMoving) {\n      self.detail.wheelMoving = true\n      // dispatch\n      const detail = self.eDetailSet()\n      detail.wheelX = -self.detail.wheelCurrent\n      self.detail.wheel.dispatchEvent(new CustomEvent('wheelstart.xt', { detail: detail }))\n      // friction\n      self.eventFrictionSmooth(el, min, max)\n    }\n  }\n\n  /**\n   * event friction smooth for Xt\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   * @param {Number} min Minimum value\n   * @param {Number} max Maximum value\n   */\n\n  eventFrictionSmooth (el, min, max) {\n    const self = this\n    const options = self.options\n    // disabled\n    if (self.disabled && !self.initial) {\n      return\n    }\n    // vars\n    const delta = self.detail.wheelEnd - self.detail.wheelCurrent\n    const deltaAbs = Math.abs(delta)\n    const sign = Math.sign(delta)\n    // momentum\n    const fncFriction = options.wheel.friction\n    if (deltaAbs >= options.wheel.frictionLimit) {\n      self.detail.wheelCurrent += fncFriction(deltaAbs) * sign\n    } else {\n      self.detail.wheelCurrent = self.detail.wheelEnd\n    }\n    // set\n    if (!options.wheel.transform) {\n      if (options.wheel.horizontal) {\n        el.scrollLeft = self.detail.wheelCurrent\n      } else {\n        el.scrollTop = self.detail.wheelCurrent\n      }\n    } else {\n      if (options.wheel.horizontal) {\n        el.style.transform = 'translateX(' + (-self.detail.wheelCurrent) + 'px)'\n      } else {\n        el.style.transform = 'translateY(' + (-self.detail.wheelCurrent) + 'px)'\n      }\n    }\n    // loop\n    if (self.detail.wheelCurrent > min && self.detail.wheelCurrent < max && // limit\n      deltaAbs >= options.wheel.frictionLimit) { // frictionLimit\n      // friction\n      cancelAnimationFrame(Xt.dataStorage.get(self.detail.wheel, self.componentNamespace + 'WheelSmoothFrame'))\n      Xt.dataStorage.set(self.detail.wheel, self.componentNamespace + 'WheelSmoothFrame', requestAnimationFrame(function () {\n        self.eventFrictionSmooth(el, min, max)\n      }))\n      // dispatch\n      const detail = self.eDetailSet()\n      detail.wheelX = -self.detail.wheelCurrent\n      self.detail.wheel.dispatchEvent(new CustomEvent('wheel.xt', { detail: detail }))\n    } else {\n      // moving\n      self.detail.wheelMoving = false\n      // vars\n      self.detail.wheelEnd = false\n      // dispatch\n      const detail = self.eDetailSet()\n      detail.wheelX = -self.detail.wheelCurrent\n      self.detail.wheel.dispatchEvent(new CustomEvent('wheelend.xt', { detail: detail }))\n    }\n  }\n\n  /**\n   * event wheel stop for Xt\n   */\n\n  eventWheelStop () {\n    const self = this\n    const el = self.detail.wheel\n    cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'WheelSmoothFrame'))\n    self.detail.wheelMoving = false\n  }\n\n  //\n  // special\n  //\n\n  /**\n   * add or remove close events on element\n   * @param {String} actionCurrent Current action\n   * @param {Node|HTMLElement|EventTarget|Window} el Element\n   * @param {Node|HTMLElement|EventTarget|Window} single Element to toggle\n   */\n  specialClose (actionCurrent, el, single = null) {\n    const self = this\n    const options = self.options\n    if (actionCurrent === 'On') {\n      // closeInside\n      if (options.closeInside) {\n        const closeElements = el.querySelectorAll(options.closeInside)\n        requestAnimationFrame(function () {\n          for (const closeElement of closeElements) {\n            const specialCloseInsideHandler = Xt.dataStorage.put(closeElement, 'click.close' + '.' + self.namespace,\n              self.eventSpecialCloseInsideHandler.bind(self).bind(self, closeElement, single))\n            closeElement.addEventListener('click', specialCloseInsideHandler)\n          }\n        })\n      }\n      // closeOutside\n      if (options.closeOutside) {\n        const closeElements = document.querySelectorAll(options.closeOutside)\n        requestAnimationFrame(function () {\n          for (const closeElement of closeElements) {\n            const specialCloseOutsideHandler = Xt.dataStorage.put(closeElement, 'click.close' + '.' + self.namespace,\n              self.eventSpecialCloseOutsideHandler.bind(self).bind(self, el, single))\n            closeElement.addEventListener('click', specialCloseOutsideHandler)\n          }\n        })\n      }\n    } else if (actionCurrent === 'Off') {\n      // closeInside\n      if (options.closeInside) {\n        const closeElements = el.querySelectorAll(options.closeInside)\n        for (const closeElement of closeElements) {\n          const specialCloseInsideHandler = Xt.dataStorage.get(closeElement, 'click.close' + '.' + self.namespace)\n          closeElement.removeEventListener('click', specialCloseInsideHandler)\n        }\n      }\n      // closeOutside\n      if (options.closeOutside) {\n        const closeElements = document.querySelectorAll(options.closeOutside)\n        for (const closeElement of closeElements) {\n          const specialCloseOutsideHandler = Xt.dataStorage.get(closeElement, 'click.close' + '.' + self.namespace)\n          closeElement.removeEventListener('click', specialCloseOutsideHandler)\n        }\n      }\n    }\n  }\n\n  /**\n   * specialClose on handler\n   * @param {Node|HTMLElement|EventTarget|Window} checkEl\n   * @param {Node|HTMLElement|EventTarget|Window} single\n   * @param {Event} e\n   */\n  eventSpecialCloseInsideHandler (checkEl, single, e) {\n    const self = this\n    // prevent closing when nested and moved (ex: overlay)\n    if (!Xt.checkNested(checkEl, self.targets)) {\n      return\n    }\n    // handler\n    if (Xt.checkNested(e.target, Xt.arrSingle(checkEl))) {\n      self.eventOff(single)\n    }\n  }\n\n  /**\n   * specialClose off handler\n   * @param {Node|HTMLElement|EventTarget|Window} checkEl\n   * @param {Node|HTMLElement|EventTarget|Window} single\n   * @param {Event} e\n   */\n  eventSpecialCloseOutsideHandler (checkEl, single, e) {\n    const self = this\n    // handler\n    if (!Xt.checkNested(e.target, Xt.arrSingle(checkEl))) {\n      self.eventOff(single)\n    }\n  }\n\n  /**\n   * open or close or reset collapse\n   * @param {String} actionCurrent Current action\n   * @param {Node|HTMLElement|EventTarget|Window} el Element\n   * @param {String} before Before content\n   * @param {String} after After content\n   */\n  specialCollapse (actionCurrent, el, before, after) {\n    if (el instanceof HTMLElement) {\n      if (actionCurrent === 'On') {\n        if (before === 'xt-collapse--height') {\n          cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n          Xt.dataStorage.set(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n            el.classList.add('xt-hide', 'trans-anim-none')\n            el.style.height = 'auto'\n            const h = el.clientHeight + 'px'\n            el.style.height = '0'\n            cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n            Xt.dataStorage.set(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n              el.classList.remove('xt-hide', 'trans-anim-none')\n              el.style.height = h\n            }))\n          }))\n        }\n        if (after === 'xt-collapse--width') {\n          cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n          Xt.dataStorage.set(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n            el.classList.add('xt-hide', 'trans-anim-none')\n            el.style.width = 'auto'\n            const w = el.clientHeight + 'px'\n            el.style.width = '0'\n            cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n            Xt.dataStorage.set(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n              el.classList.remove('xt-hide', 'trans-anim-none')\n              el.style.width = w\n            })).toString()\n          }))\n        }\n      } else if (actionCurrent === 'Off') {\n        if (before === 'xt-collapse--height') {\n          const h = el.offsetHeight + 'px'\n          cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n          Xt.dataStorage.set(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n            el.classList.remove('xt-hide', 'trans-anim-none')\n            el.style.height = h\n            cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n            Xt.dataStorage.set(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n              el.style.height = '0'\n            }))\n          }))\n        }\n        if (after === 'xt-collapse--width') {\n          const w = el.offsetWidth + 'px'\n          cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n          Xt.dataStorage.put(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n            el.classList.remove('xt-hide', 'trans-anim-none')\n            el.style.width = w\n            cancelAnimationFrame(Xt.dataStorage.get(el, self.componentNamespace + 'CollapseFrame'))\n            Xt.dataStorage.put(el, self.componentNamespace + 'CollapseFrame', requestAnimationFrame(function () {\n              el.style.width = '0'\n            }))\n          }))\n        }\n      } else if (actionCurrent === 'Reset') {\n        if (before === 'xt-collapse--height') {\n          el.style.height = 'inherit'\n        }\n        if (after === 'xt-collapse--width') {\n          el.style.width = 'inherit'\n        }\n      }\n    }\n  }\n\n  /**\n   * scrollbar activation\n   * @param {String} actionCurrent Current action\n   */\n  specialScrollbar (actionCurrent) {\n    const self = this\n    const options = self.options\n    if (actionCurrent === 'On') {\n      // scrollbar on\n      if (options.scrollbar) {\n        // checks\n        Xt.scrollbar.add(self.namespace)\n        // check fixed\n        const checks = document.querySelectorAll('.xt-fixed--check, .xt-fixed--check > *')\n        for (const check of checks) {\n          const style = getComputedStyle(check)\n          if (style.position === 'fixed') {\n            check.classList.add('xt-fixed')\n          } else {\n            check.classList.remove('xt-fixed')\n          }\n        }\n        // scrollbar\n        const container = document.documentElement\n        container.classList.add('xt-scrollbar')\n        Xt.scrollbarSpaceOn(container)\n      }\n    } else if (actionCurrent === 'Off') {\n      // scrollbar off\n      if (options.scrollbar) {\n        // checks\n        Xt.scrollbar.remove(self.namespace)\n        if (!Xt.scrollbar.get().length) {\n          // scrollbar\n          const container = document.documentElement\n          container.classList.remove('xt-scrollbar')\n          Xt.scrollbarSpaceOff(container)\n        }\n      }\n    }\n  }\n\n  /**\n   * add or remove html class\n   * @param {String} actionCurrent Current action\n   */\n  specialClassHtml (actionCurrent) {\n    const self = this\n    const options = self.options\n    if (actionCurrent === 'On') {\n      // class on\n      if (options.classHtml) {\n        const container = document.documentElement\n        container.classList.add(...options.classHtml.split(' '))\n      }\n    } else if (actionCurrent === 'Off') {\n      // class off\n      if (options.classHtml) {\n        const container = document.documentElement\n        container.classList.remove(...options.classHtml.split(' '))\n      }\n    }\n  }\n\n  /**\n   * backdrop append to element\n   * @param {Object} obj Queue object\n   */\n  specialBackdrop (obj) {\n    const self = this\n    const options = self.options\n    // backdrop\n    if (options.backdrop) {\n      const elements = typeof options.backdrop === 'string' && obj[options.backdrop] ? Xt.arrSingle(obj[options.backdrop].queueEls) : Xt.arrSingle(self.object)\n      for (const element of elements) {\n        let backdrop = element.querySelectorAll('.backdrop')\n        if (!backdrop.length) {\n          backdrop = Xt.createElement('<div class=\"backdrop xt-ignore\"></div>')\n          element.append(backdrop)\n          // @FIX pass wheel event or when you mousewheel over .backdrop it doesn't scroll\n          const eWheel = 'onwheel' in backdrop ? 'wheel' : backdrop.onmousewheel !== undefined ? 'mousewheel' : 'DOMMouseScroll'\n          backdrop.addEventListener(eWheel, function (e) {\n            const delta = -e.deltaY || -e.detail || e.wheelDelta || e.wheelDeltaY\n            element.scrollTop -= delta\n          }, Xt.passiveSupported ? { passive: false } : false)\n        }\n      }\n    }\n  }\n\n  /**\n   * center position on activation\n   * @param {Node|HTMLElement|EventTarget|Window} el Element\n   * @param {String} before Before content\n   * @param {String} after After content\n   */\n  specialCenter (el, before, after) {\n    const self = this\n    // specialCenter\n    if (before === 'xt-drop--center') {\n      const add = self.object.clientWidth\n      const remove = el.clientWidth\n      el.style.left = ((add - remove) / 2) + 'px'\n    }\n  }\n\n  /**\n   * middle position on activation\n   * @param {Node|HTMLElement|EventTarget|Window} el Element\n   * @param {String} before Before content\n   * @param {String} after After content\n   */\n  specialMiddle (el, before, after) {\n    const self = this\n    // specialMiddle\n    if (after === 'xt-drop--middle') {\n      const add = self.object.clientHeight\n      const remove = el.clientHeight\n      el.style.top = ((add - remove) / 2) + 'px'\n    }\n  }\n\n  //\n  // goto\n  //\n\n  /**\n   * activate next element\n   * @param {Number} amount\n   * @param {Boolean} force\n   * @param {Boolean} loop\n   */\n  goToNext (amount = 1, force = false, loop = null) {\n    const self = this\n    // goToIndex\n    let index = 0\n    if (self.currentIndex !== null) {\n      index = self.currentIndex + amount\n    }\n    self.detail.inverseForce = false\n    self.goToIndex(index, force, loop)\n  }\n\n  /**\n   * activate prev element\n   * @param {Number} amount\n   * @param {Boolean} force\n   * @param {Boolean} loop\n   */\n  goToPrev (amount = 1, force = false, loop = null) {\n    const self = this\n    // goToIndex\n    let index = self.getGroups().length - 1\n    if (self.currentIndex !== null) {\n      index = self.currentIndex - amount\n    }\n    self.detail.inverseForce = true\n    self.goToIndex(index, force, loop)\n  }\n\n  /**\n   * activate index element\n   * @param {Number} index\n   * @param {Boolean} force\n   * @param {Boolean} loop\n   */\n  goToIndex (index, force = false, loop = null) {\n    const self = this\n    const options = self.options\n    // check\n    const max = self.getGroups().length - 1\n    if (index > max) {\n      if (loop || (loop === null && options.loop)) {\n        index = index - max - 1\n        index = index > max ? max : index // prevent overflow\n      } else {\n        index = max\n      }\n    } else if (index < 0) {\n      if (loop || (loop == null && options.loop)) {\n        index = index + max + 1\n        index = index < 0 ? 0 : index // prevent overflow\n      } else {\n        index = 0\n      }\n    }\n    // go\n    const current = self.getGroups()[index]\n    self.eventOn(current, force)\n  }\n\n  //\n  // status\n  //\n\n  /**\n   * status handler\n   * @param {Event} e\n   */\n  eventStatusHandler (e = null) {\n    const self = this\n    // handler\n    Xt.eventDelay(e, self.object, function () {\n      self.eventStatus()\n    }, self.componentNamespace + 'Resize')\n  }\n\n  /**\n   * status\n   */\n  eventStatus () {\n    const self = this\n    // check disabled\n    if (self.object instanceof HTMLElement && // @FIX not on window\n      getComputedStyle(self.object, ':after').getPropertyValue('content').replace(/['\"]+/g, '') === 'xt-disable') {\n      self.disable()\n    } else if (self.disabled) {\n      self.enable()\n    }\n  }\n\n  /**\n   * disable\n   */\n  disable () {\n    const self = this\n    // disable\n    self.disabled = true\n    self.object.classList.add('xt-disabled')\n  }\n\n  /**\n   * disable\n   */\n  enable () {\n    const self = this\n    // enable\n    self.disabled = false\n    self.object.classList.remove('xt-disabled')\n  }\n\n  //\n  // destroy\n  //\n\n  /**\n   * destroy\n   */\n  destroy (weak = false) {\n    const self = this\n    // stop auto\n    clearInterval(Xt.dataStorage.get(self.object, self.componentNamespace + 'AutoStartInterval'))\n    // stop queue\n    self.queueStopAll() // @FIX autoClose with appendTo outside ajax\n    // remove events\n    if (self.destroyElements) {\n      for (const element of self.destroyElements) {\n        const storages = Xt.dataStorage.getAll(element)\n        if (storages) {\n          for (const [key] of storages) {\n            if (key) {\n              if (key.endsWith(self.namespace)) {\n                const handler = Xt.dataStorage.get(element, key)\n                if (typeof handler === 'function') {\n                  const events = key.split('.')[0].split(' ')\n                  for (const event of events) {\n                    element.removeEventListener(event, handler)\n                    element.removeEventListener(event, handler, true)\n                    element.removeEventListener(event, handler, { passive: true })\n                    Xt.dataStorage.remove(element, key)\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    // not weak destroy\n    if (!weak) {\n      Xt.remove(self.componentName, self.object)\n      if (self.unmount) {\n        self.unmount()\n      }\n      delete this\n    }\n  }\n}\n\n//\n// option\n//\n\nToggle.componentName = 'xt-toggle'\nToggle.optionsDefaultSuper = {\n  elements: ':scope > a, :scope > button',\n  targets: ':scope > [class^=\"toggle--\"], :scope > [class*=\" toggle--\"]',\n  on: 'click',\n  min: 0,\n  max: 1,\n  instant: { elements: true },\n  // defaults\n  class: 'active',\n  classIn: 'in',\n  classOut: 'out',\n  classInitial: 'initial',\n  classInverse: 'inverse',\n  autoClose: false,\n  onBlock: false,\n  offBlock: false,\n  loop: true,\n  jump: false,\n  imageLoadedInit: false,\n  delayOn: false,\n  delayOff: false,\n  durationOn: false,\n  durationOff: false,\n  keyboard: {\n    selector: false\n  },\n  auto: {\n    time: false,\n    step: 1,\n    initial: true,\n    inverse: false,\n    pause: false\n  },\n  aria: {\n    tabindex: true,\n    controls: true,\n    labelledby: true\n  }\n}\n\n//\n// export\n//\n\nXt.Toggle = Toggle\n\n//\n// observe\n//\n\nXt.mount.push({\n  matches: '[data-' + Xt.Toggle.componentName + ']',\n  mount: function (object) {\n    // init\n\n    let self = new Xt.Toggle(object, object.getAttribute('data-' + Xt.Toggle.componentName))\n\n    // unmount\n\n    return function unmount () {\n      self.destroy()\n      self = null\n    }\n  }\n})\n","/**\n * call only if in browser mode\n * https://www.gatsbyjs.org/docs/debugging-html-builds/#how-to-check-if-code-classlanguage-textwindowcode-is-defined\n */\n\nif (typeof window !== 'undefined') {\n  /**\n   * before\n   * https://github.com/jserz/js_piece/blob/master/DOM/ChildNode/before()/before().md\n   */\n  (function (arr) {\n    arr.forEach(function (item) {\n      if (item.hasOwnProperty('before')) {\n        return;\n      }\n      Object.defineProperty(item, 'before', {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: function before() {\n          let argArr = Array.prototype.slice.call(arguments),\n            docFrag = document.createDocumentFragment();\n\n          argArr.forEach(function (argItem) {\n            let isNode = argItem instanceof Node;\n            docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\n          });\n\n          this.parentNode.insertBefore(docFrag, this);\n        }\n      });\n    });\n  })([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\n  /**\n   * after\n   * https://github.com/jserz/js_piece/blob/master/DOM/ChildNode/after()/after().md\n   */\n  (function (arr) {\n    arr.forEach(function (item) {\n      if (item.hasOwnProperty('after')) {\n        return;\n      }\n      Object.defineProperty(item, 'after', {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: function after() {\n          var argArr = Array.prototype.slice.call(arguments),\n            docFrag = document.createDocumentFragment();\n\n          argArr.forEach(function (argItem) {\n            var isNode = argItem instanceof Node;\n            docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\n          });\n\n          this.parentNode.insertBefore(docFrag, this.nextSibling);\n        }\n      });\n    });\n  })([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\n  /**\n   * :scope\n   * https://github.com/jonathantneal/element-qsa-scope\n   */\n  (function (ElementPrototype) {\n    try {\n      // test for scope support\n      document.querySelector(':scope *');\n    } catch (error) {\n      let polyfill = function (qsa) {\n        return function (selectors) {\n          // whether the selectors contain :scope\n          let hasScope = selectors && scope.test(selectors);\n          if (hasScope) {\n            // fallback attribute\n            let attr = 'q' + Math.floor(Math.random() * 9000000) + 1000000;\n            // replace :scope with the fallback attribute\n            arguments[0] = selectors.replace(scope, '[' + attr + ']');\n            // add the fallback attribute\n            this.setAttribute(attr, '');\n            // results of the qsa\n            let elementOrNodeList = qsa.apply(this, arguments);\n            // remove the fallback attribute\n            this.removeAttribute(attr);\n            // return the results of the qsa\n            return elementOrNodeList;\n          } else {\n            // return the results of the qsa\n            return qsa.apply(this, arguments);\n          }\n        };\n      }\n      // scope regex\n      let scope = /:scope(?![\\w-])/gi;\n      // polyfill Element#querySelector\n      let querySelectorWithScope = polyfill(ElementPrototype.querySelector);\n      ElementPrototype.querySelector = function querySelector(selectors) {\n        return querySelectorWithScope.apply(this, arguments);\n      };\n      // polyfill Element#querySelectorAll\n      let querySelectorAllWithScope = polyfill(ElementPrototype.querySelectorAll);\n      ElementPrototype.querySelectorAll = function querySelectorAll(selectors) {\n        return querySelectorAllWithScope.apply(this, arguments);\n      };\n      // polyfill Element#matches\n      if (ElementPrototype.matches) {\n        let matchesWithScope = polyfill(ElementPrototype.matches);\n        ElementPrototype.matches = function matches(selectors) {\n          return matchesWithScope.apply(this, arguments);\n        };\n      }\n      // polyfill Element#closest\n      if (ElementPrototype.closest) {\n        let closestWithScope = polyfill(ElementPrototype.closest);\n        ElementPrototype.closest = function closest(selectors) {\n          return closestWithScope.apply(this, arguments);\n        };\n      }\n    }\n  })(Element.prototype);\n\n  /**\n   * composedPath\n   * https://gist.github.com/rockinghelvetica/00b9f7b5c97a16d3de75ba99192ff05c\n   */\n  (function(E, d, w) {\n    if(!E.composedPath) {\n      E.composedPath = function() {\n        if (this.path) {\n          return this.path;\n        }\n        var target = this.target;\n\n        this.path = [];\n        while (target.parentNode !== null) {\n          this.path.push(target);\n          target = target.parentNode;\n        }\n        this.path.push(d, w);\n        return this.path;\n      }\n    }\n  })(Event.prototype, document, window);\n}\n","import 'xtend-library/src/polyfill.js'\n\n//\n// constructor\n//\n\nexport const Xt = {}\n\n//\n// vars\n//\n\nXt.debug = true\nXt.mount = []\nXt.unmount = []\nXt.currents = {} // Xt currents based on namespace (so shared between Xt objects)\nXt.resizeDelay = 100\nXt.scrollDelay = false\nXt.imageLoadedDelay = 50\nXt.focusables = 'a, button, details, input, iframe, select, textarea'\n\n//\n// call only if in browser mode\n// https://www.gatsbyjs.org/docs/debugging-html-builds/#how-to-check-if-code-classlanguage-textwindowcode-is-defined\n//\n\nif (typeof window !== 'undefined') {\n  //\n  // initialization\n  //\n\n  /**\n   * ready\n   * @param {Function} fnc Function to execute on dom ready\n   */\n  Xt.ready = function (fnc) {\n    if (document.readyState === 'complete') {\n      requestAnimationFrame(function () {\n        fnc()\n      })\n    } else {\n      document.addEventListener('readystatechange', function () {\n        if (document.readyState === 'complete') {\n          requestAnimationFrame(function () {\n            fnc()\n          })\n        }\n      })\n    }\n  }\n\n  /**\n   * init\n   */\n  Xt.ready(function () {\n    Xt.stickyIndex = 500\n    Xt.setScrollbarWidth()\n    Xt.windowHeightSet()\n    Xt.mountCheck(document.documentElement)\n    Xt.observer.disconnect()\n    Xt.observer.observe(document.documentElement, {\n      characterData: false,\n      attributes: false,\n      childList: true,\n      subtree: true\n    })\n  })\n\n  //\n  // observer\n  //\n\n  /**\n   * observer\n   */\n  Xt.observer = new MutationObserver(function (mutationsList) {\n    for (const mutation of mutationsList) {\n      if (mutation.type === 'childList') {\n        // added\n        for (const added of mutation.addedNodes) {\n          if (added.nodeType === 1) {\n            Xt.mountCheck(added)\n          }\n        }\n        // removed\n        for (const removed of mutation.removedNodes) {\n          if (removed.nodeType === 1) {\n            Xt.unmountCheck(removed)\n          }\n        }\n      }\n    }\n  })\n\n  /**\n   * mountCheck\n   * @param {Node|HTMLElement|EventTarget|Window} added\n   */\n  Xt.mountCheck = function (added = document.documentElement) {\n    const addedIgnore = added.closest('.xt-ignore')\n    if (addedIgnore) {\n      Xt.ignoreOnce(addedIgnore) // @FIX ignore once for mount when moving\n      return\n    }\n    for (const obj of Xt.mount) {\n      // check\n      const els = []\n      if (added.matches(obj.matches)) {\n        els.push(added)\n      }\n      for (const element of added.querySelectorAll(obj.matches)) {\n        els.push(element)\n      }\n      // call\n      if (els.length) {\n        for (const [i, el] of els.entries()) {\n          const elIgnore = el.closest('.xt-ignore')\n          if (elIgnore) {\n            Xt.ignoreOnce(elIgnore) // @FIX ignore once for mount when moving\n            continue\n          }\n          // call\n          requestAnimationFrame(function () { // @FIX react when componentDidMount\n            const destroy = obj.mount(el, i, obj.matches) // object, index, matches\n            if (destroy) {\n              Xt.unmount.push({\n                object: el,\n                unmount: destroy\n              })\n            }\n          })\n        }\n      }\n    }\n  }\n\n  /**\n   * unmountCheck\n   * @param {Node|HTMLElement|EventTarget|Window} removed\n   */\n  Xt.unmountCheck = function (removed = document.documentElement) {\n    if (removed.closest('.xt-ignore')) {\n      return\n    }\n    for (const obj of Xt.unmount) {\n      // check\n      if (removed === obj.object || removed.contains(obj.object)) {\n        if (obj.object.closest('.xt-ignore')) {\n          return\n        }\n        // call\n        obj.unmount(obj)\n      }\n    }\n  }\n\n  //\n  // component\n  //\n\n  /**\n   * set component\n   * @param {String} name Component name\n   * @param {Node|HTMLElement|EventTarget|Window} element Component's element\n   * @param {Object} self Component' self\n   */\n  Xt.set = function (name, element, self) {\n    Xt.dataStorage.set(element, name, self)\n  }\n\n  /**\n   * get component\n   * @param {String} name Component name\n   * @param {Node|HTMLElement|EventTarget|Window} element Component's element\n   */\n  Xt.get = function (name, element) {\n    return Xt.dataStorage.get(element, name)\n  }\n\n  /**\n   * remove component\n   * @param {String} name Component name\n   * @param {Node|HTMLElement|EventTarget|Window} element Component's element\n   */\n  Xt.remove = function (name, element) {\n    return Xt.dataStorage.remove(element, name)\n  }\n\n  /**\n   * check defined component\n   * @param {Object} self Component self\n   * @param {Function} fnc Component init\n   */\n  Xt.checkDefined = function (self, fnc) {\n    // @FIX multiple initializations\n    const alreadyDefinedInstance = Xt.get(self.componentName, self.object)\n    if (!alreadyDefinedInstance) {\n      Xt.set(self.componentName, self.object, self)\n      fnc()\n    } else {\n      return alreadyDefinedInstance\n    }\n  }\n\n  //\n  // dataStorage\n  // map storage for HTML elements\n  //\n\n  Xt.dataStorage = {\n\n    /**\n     * properties\n     */\n    _storage: new Map(),\n\n    /**\n     * set key/obj pair on element's map\n     * @param {Node|HTMLElement|EventTarget|Window} el\n     * @param {String} key\n     * @param {Object|Function} obj\n     * @returns {Object|Function}\n     */\n    set: function (el, key, obj) {\n      // new map if not already there\n      if (!this._storage.has(el)) {\n        this._storage.set(el, new Map())\n      }\n      // set\n      const getEl = this._storage.get(el)\n      getEl.set(key, obj)\n      // return\n      return getEl.get(key)\n    },\n\n    /**\n     * put key/obj pair on element's map, return old if exist already\n     * @param {Node|HTMLElement|EventTarget|Window} el\n     * @param {String} key\n     * @param {Object|Function} obj\n     * @returns {Object|Function}\n     */\n    put: function (el, key, obj) {\n      // new map if not already there\n      if (!this._storage.has(el)) {\n        this._storage.set(el, new Map())\n      }\n      // return if already set\n      const getEl = this._storage.get(el)\n      const getKey = getEl.get(key)\n      if (getKey) {\n        return getKey\n      }\n      // set\n      getEl.set(key, obj)\n      // return\n      return getEl.get(key)\n    },\n\n    /**\n     * get obj from key on element's map\n     * @param {Node|HTMLElement|EventTarget|Window} el\n     * @param {String} key\n     * @returns {Object|Function}\n     */\n    get: function (el, key) {\n      const getEl = this._storage.get(el)\n      // null if empty\n      if (!getEl) {\n        return null\n      }\n      // return\n      return getEl.get(key)\n    },\n\n    /**\n     * get all obj/key on element's map\n     * @param {Node|HTMLElement|EventTarget|Window} el\n     * @returns {Object|Function}\n     */\n    getAll: function (el) {\n      const getEl = this._storage.get(el)\n      // null if empty\n      if (!getEl) {\n        return null\n      }\n      // return\n      return getEl\n    },\n\n    /**\n     * has key on element's map\n     * @param {Node|HTMLElement|EventTarget|Window} el\n     * @param {String} key\n     * @returns {Boolean}\n     */\n    has: function (el, key) {\n      // return\n      return this._storage.get(el).has(key)\n    },\n\n    /**\n     * remove element's map key\n     * @param {Node|HTMLElement|EventTarget|Window} el\n     * @param {String} key\n     * @returns {Boolean}\n     */\n    remove: function (el, key) {\n      const getEl = this._storage.get(el)\n      // null if empty\n      if (!getEl) {\n        return null\n      }\n      // remove\n      const ret = getEl.delete(key)\n      // remove storage if empty\n      if (getEl.size === false) {\n        this._storage.delete(el)\n      }\n      // return\n      return ret\n    }\n\n  }\n\n  //\n  // scrollbar\n  // util to remember scrollbar state\n  //\n\n  Xt.scrollbar = {\n\n    /**\n     * properties\n     */\n    currents: [],\n\n    /**\n     * get scrollbar currents\n     * @returns {Array} Currents\n     */\n    get: function () {\n      return Xt.scrollbar.currents\n    },\n\n    /**\n     * add scrollbar currents\n     * @param {Node|HTMLElement|EventTarget|Window} el Elements to be deactivated\n     */\n    add: function (el) {\n      Xt.scrollbar.currents.push(el)\n    },\n\n    /**\n     * remove scrollbar currents\n     * @param {Node|HTMLElement|EventTarget|Window} el Elements to be deactivated\n     */\n    remove: function (el) {\n      Xt.scrollbar.currents = Xt.scrollbar.currents.filter(x => x !== el)\n    }\n\n  }\n\n  //\n  // focus\n  // util to remember focus on key or interactions events\n  //\n\n  Xt.focus = {\n\n    /**\n     * properties\n     */\n    block: false,\n    current: null,\n\n    /**\n     * enable focus change events\n     */\n    on: function () {\n      // event key\n      const focusChangeKeyHandler = Xt.dataStorage.put(document, 'keyup.focus',\n        Xt.focus.changeKey)\n      document.addEventListener('keyup', focusChangeKeyHandler)\n      // event mouse\n      const focusChangeOtherHandler = Xt.dataStorage.get(document, 'mousedown touchstart pointerdown.focus')\n      document.removeEventListener('mousedown', focusChangeOtherHandler)\n      document.removeEventListener('touchstart', focusChangeOtherHandler)\n      document.removeEventListener('pointerdown', focusChangeOtherHandler)\n    },\n\n    /**\n     * disable focus change events\n     */\n    off: function () {\n      // event\n      const focusChangeKeyHandler = Xt.dataStorage.get(document, 'keyup.focus')\n      document.removeEventListener('keyup', focusChangeKeyHandler)\n      // event mouse\n      const focusChangeOtherHandler = Xt.dataStorage.put(document, 'mousedown touchstart pointerdown.focus',\n        Xt.focus.changeOther)\n      document.addEventListener('mousedown', focusChangeOtherHandler)\n      document.addEventListener('touchstart', focusChangeOtherHandler, Xt.passiveSupported ? { passive: true } : false)\n      document.addEventListener('pointerdown', focusChangeOtherHandler, Xt.passiveSupported ? { passive: true } : false)\n    },\n\n    /**\n     * focus change on key events\n     * @param {Event} e Event\n     */\n    changeKey: function (e) {\n      const code = e.keyCode ? e.keyCode : e.which\n      if (code === 9) {\n        if (!Xt.focus.block) {\n          // remember Xt.focus\n          Xt.focus.current = document.activeElement\n        }\n        if (!document.documentElement.classList.contains('xt-focus')) {\n          // html.xt-focus\n          document.documentElement.classList.add('xt-focus')\n          // switch mode\n          Xt.focus.off()\n        }\n      }\n    },\n\n    /**\n     * focus change on other events\n     * @param {Event} e Event\n     */\n    changeOther: function (e) {\n      if (!Xt.focus.block) {\n        // remember Xt.focus\n        Xt.focus.current = e.target\n      }\n      if (document.documentElement.classList.contains('xt-focus')) {\n        // html.xt-focus\n        document.documentElement.classList.remove('xt-focus')\n        // switch mode\n        Xt.focus.on()\n      }\n    }\n\n  }\n\n  requestAnimationFrame(function () {\n    Xt.focus.on()\n  })\n\n  //\n  // focusLimit\n  // util to limit focus inside HTML elements\n  //\n\n  Xt.focusLimit = {\n\n    /**\n     * activate focusLimit to an element\n     * @param {Node|HTMLElement|EventTarget|Window} el Element\n     */\n    on: function (el) {\n      // @FIX Xt.focus when clicking and not used tab before\n      Xt.focus.current = Xt.focus.current ? Xt.focus.current : document.activeElement\n      // vars\n      let focusables = el.querySelectorAll(Xt.focusables)\n      focusables = Array.from(focusables).filter(x => x.matches(':not([disabled]), :not([tabindex=\"-1\"])')) // filter out parent\n      if (focusables.length) {\n        const first = focusables[0]\n        const last = focusables[focusables.length - 1]\n        // event\n        const focusLimitHandler = Xt.dataStorage.put(document, 'keyup.focusLimit',\n          Xt.focusLimit.limit.bind(this).bind(this, focusables, first, last))\n        document.addEventListener('keyup', focusLimitHandler)\n      }\n    },\n\n    /**\n     * deactivate focusLimit to an element\n     */\n    off: function () {\n      // event\n      const focusLimitHandler = Xt.dataStorage.get(document, 'keyup.focusLimit')\n      document.removeEventListener('keyup', focusLimitHandler)\n    },\n\n    /**\n     * limit even on focus when activated\n     * @param {NodeList|Array} focusables Focusables elements\n     * @param {Node|HTMLElement|EventTarget|Window} first First focusable element\n     * @param {Node|HTMLElement|EventTarget|Window} last Last focusable element\n     * @param {Event} e Event\n     */\n    limit: function (focusables, first, last, e) {\n      const code = e.keyCode ? e.keyCode : e.which\n      if (code === 9) {\n        if (!focusables.includes(document.activeElement)) {\n          if (e.shiftKey) {\n            last.focus()\n            e.preventDefault()\n          } else {\n            first.focus()\n            e.preventDefault()\n          }\n        }\n      }\n    }\n\n  }\n\n  //\n  // friction\n  // util to friction values\n  //\n\n  Xt.friction = function (el, obj) {\n    let xCurrent = Xt.getTranslate(el)[0]\n    let yCurrent = Xt.getTranslate(el)[1]\n    let xDist = obj.x - xCurrent\n    let yDist = obj.y - yCurrent\n    // momentum\n    let fncFriction\n    if (obj.friction === false) {\n      fncFriction = false\n    } else if (obj.friction === undefined) {\n      fncFriction = function (delta) { return delta / 9 }\n    } else {\n      fncFriction = obj.friction\n    }\n    if (fncFriction) {\n      xCurrent += fncFriction(Math.abs(xDist)) * Math.sign(xDist)\n      yCurrent += fncFriction(Math.abs(yDist)) * Math.sign(yDist)\n      // set\n      requestAnimationFrame(function () {\n        el.style.transform = 'translateX(' + xCurrent + 'px) translateY(' + yCurrent + 'px)'\n      })\n    } else {\n      xCurrent = obj.x\n      yCurrent = obj.y\n      // set\n      el.style.transform = 'translateX(' + xCurrent + 'px) translateY(' + yCurrent + 'px)'\n    }\n    // loop\n    if (fncFriction) {\n      const frictionLimit = obj.frictionLimit || 1.5\n      xDist = obj.x - xCurrent\n      yDist = obj.y - yCurrent\n      cancelAnimationFrame(Xt.dataStorage.get(el, 'xtFrictionFrame'))\n      if (Math.abs(xDist) >= frictionLimit || Math.abs(yDist >= frictionLimit)) {\n        Xt.dataStorage.set(el, 'xtFrictionFrame', requestAnimationFrame(function () {\n          Xt.friction(el, obj)\n        }))\n      }\n    }\n  }\n\n  //\n  // util\n  //\n\n  /**\n   * Return translate values https://gist.github.com/aderaaij/a6b666bf756b2db1596b366da921755d\n   * @param {Node|HTMLElement|EventTarget|Window} element Element to check target\n   * @return {Array} Values [x, y]\n   */\n  /*\n  USAGE:\n  Xt.getTranslate(el)[0]; // for translateX\n  Xt.getTranslate(el)[1]; // for translateY\n  */\n\n  Xt.getTranslate = function (element) {\n    const transArr = []\n    const style = getComputedStyle(element)\n    const transform = style.transform\n    let mat = transform.match(/^matrix3d\\((.+)\\)$/)\n    if (mat) {\n      transArr.push(parseFloat(mat[1].split(', ')[13]))\n    } else {\n      mat = transform.match(/^matrix\\((.+)\\)$/)\n      mat ? transArr.push(parseFloat(mat[1].split(', ')[4])) : transArr.push(0)\n      mat ? transArr.push(parseFloat(mat[1].split(', ')[5])) : transArr.push(0)\n    }\n    return transArr\n  }\n\n  /**\n   * Check if event target is inside elements\n   * @param {Node|HTMLElement|EventTarget|Window} element Element to check target\n   * @param {NodeList|Array} targets Elements to check inside\n   * @return {Boolean}\n   */\n  Xt.checkNested = function (element, targets) {\n    let result = false\n    for (const t of targets) {\n      if (element === t || t.contains(element)) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  /**\n   * Get unique id\n   * @returns {String} Unique id\n   */\n  Xt.getuniqueId = function () {\n    Xt.uid = Xt.uid !== undefined ? Xt.uid : 0\n    return 'xt-' + (Xt.uid++)\n  }\n\n  /**\n   * Get unique number\n   * @returns {Number} Unique number\n   */\n  Xt.getStickyIndex = function () {\n    return Xt.stickyIndex--\n  }\n\n  /**\n   * Merge objects\n   * @param {Array} arr Array of objects to merge\n   * @returns {Object} Merged object\n   */\n  Xt.merge = function (arr) {\n    const final = {}\n    for (const obj of arr) {\n      if (obj) {\n        for (const [key, value] of Object.entries(obj)) {\n          if (value !== null && typeof value === 'object' &&\n            !Array.isArray(value) && // not array\n            !value.nodeName && // not HTML elemen\n            value !== window) { // not window\n            final[key] = Xt.merge([final[key], value])\n          } else {\n            final[key] = value\n          }\n        }\n      }\n    }\n    return final\n  }\n\n  /**\n   * Make an array when element is only one\n   * @param {NodeList|Array|Node|HTMLElement|EventTarget|Window} el\n   * @returns {NodeList|Array}\n   */\n  Xt.arrSingle = function (el) {\n    if (!el) {\n      return []\n    }\n    if (el.length === undefined || el.tagName === 'FORM') {\n      const arr = new Array(1)\n      arr[0] = el\n      return arr\n    } else {\n      return el\n    }\n  }\n\n  /**\n   * Create HTML elements from html string\n   * @param {String} str Html string (only 1 root html tag)\n   * @return {Node} HTML elements\n   */\n  Xt.createElement = function (str) {\n    const div = document.createElement('div')\n    div.innerHTML = str.trim()\n    return div.firstChild\n  }\n\n  /**\n   * autoClose inside Element\n   * @param {Node|HTMLElement|EventTarget|Window} el Element container\n   */\n  Xt.autoClose = function (el) {\n    const query = '[data-xt-namespace^=\"drop-xt-\"]'\n    for (const drop of el.querySelectorAll(query)) {\n      drop.dispatchEvent(new CustomEvent('off.xt'))\n    }\n  }\n\n  /**\n   * Set scrollbar width of document\n   * @param {Boolean} force Force recalc\n   */\n  Xt.setScrollbarWidth = function (force = false) {\n    if (Xt.scrollbarWidth === undefined) {\n      const scrollbarWidthHandler = Xt.dataStorage.put(window, 'resize.scrollbar',\n        Xt.setScrollbarWidth.bind(this, true))\n      addEventListener('resize', scrollbarWidthHandler)\n    }\n    if (force || Xt.scrollbarWidth === undefined) {\n      // add outer\n      const outer = document.createElement('div')\n      outer.style.visibility = 'hidden'\n      outer.style.width = '100%'\n      outer.style.msOverflowStyle = 'scrollbar' // needed for WinJS apps\n      outer.classList.add('xt-ignore', 'overflow-style')\n      document.body.appendChild(outer)\n      // force scrollbars\n      outer.style.overflow = 'scroll'\n      // add inner\n      const inner = document.createElement('div')\n      inner.style.width = '100%'\n      inner.classList.add('xt-ignore')\n      outer.appendChild(inner)\n      // return\n      const widthNoScroll = outer.offsetWidth\n      const widthWithScroll = inner.offsetWidth\n      Xt.scrollbarWidth = widthNoScroll - widthWithScroll\n      // remove\n      outer.remove()\n    }\n  }\n\n  /**\n   * if full width return '' else return value in px\n   * @param {Number|String} width\n   * @returns {String} Value in px\n   */\n  Xt.normalizeWidth = function (width) {\n    width = parseFloat(width)\n    if (width + Xt.scrollbarWidth >= window.innerWidth) {\n      width = ''\n    } else {\n      width += 'px'\n    }\n    return width\n  }\n\n  /**\n   * fix scrollbar spacing when changing overflow adding padding\n   * @param {Array|Node|HTMLElement|EventTarget|Window} elements Elements to add padding\n   */\n  Xt.scrollbarSpaceOn = function (container) {\n    const width = Xt.scrollbarWidth\n    container.style.paddingRight = width + 'px'\n    // backdrop\n    const backdrops = container.querySelectorAll('.backdrop')\n    for (const backdrop of backdrops) {\n      backdrop.style.right = width + 'px'\n    }\n    // xt-fixed\n    const elements = container.querySelectorAll('.xt-fixed')\n    for (const element of elements) {\n      element.style.paddingRight = ''\n      const style = getComputedStyle(element)\n      if (Xt.normalizeWidth(element.clientWidth) === '' || getComputedStyle(element).right) { // only if full width or right position\n        const padding = style.paddingRight\n        const str = 'calc(' + padding + ' + ' + width + 'px)'\n        element.classList.add('transition-none')\n        requestAnimationFrame(function () {\n          element.style.paddingRight = str\n          requestAnimationFrame(function () {\n            element.classList.remove('transition-none')\n          })\n        })\n      }\n    }\n  }\n\n  /**\n   * fix scrollbar spacing when changing overflow adding padding\n   * @param {Array} elements Elements to remove padding\n   */\n  Xt.scrollbarSpaceOff = function (container) {\n    container.style.paddingRight = ''\n    // backdrop\n    const backdrops = container.querySelectorAll('.backdrop')\n    for (const backdrop of backdrops) {\n      backdrop.style.right = ''\n    }\n    // xt-fixed\n    const elements = container.querySelectorAll('.xt-fixed')\n    for (const element of elements) {\n      element.classList.add('transition-none')\n      requestAnimationFrame(function () {\n        element.style.paddingRight = ''\n        requestAnimationFrame(function () {\n          element.classList.remove('transition-none')\n        })\n      })\n    }\n  }\n\n  /**\n   * ignoreOnce\n   * @param {Node|HTMLElement|EventTarget|Window} el\n   */\n  Xt.ignoreOnce = function (el) {\n    if (el.classList.contains('xt-ignore--once')) {\n      requestAnimationFrame(function () { // @FIX react when componentDidMount\n        requestAnimationFrame(function () { // @FIX react when componentDidMount\n          el.classList.remove('xt-ignore', 'xt-ignore--once')\n        })\n      })\n    }\n  }\n\n  /**\n   * get transition or animation time\n   * @param {Node|HTMLElement|EventTarget|Window} el Element animating\n   * @param {Number} timing Force duration in milliseconds\n   * @returns {Number} Time in milliseconds\n   */\n  Xt.animTime = function (el, timing = null) {\n    if (timing || timing === 0) {\n      return timing\n    } else {\n      const style = getComputedStyle(el)\n      const transition = parseFloat(style.transitionDuration) + parseFloat(style.transitionDelay)\n      const animation = parseFloat(style.animationDuration) + parseFloat(style.animationDelay)\n      if (transition || animation) {\n        timing = Math.max(transition, animation)\n      }\n      return timing * 1000\n    }\n  }\n\n  /**\n   * execute function after transition or animation\n   * @param {Node|HTMLElement|EventTarget|Window} el Element animating\n   * @param {Function} func Function to execute after transition or animation\n   * @param {String} suffix Timeout suffix\n   */\n  Xt.animTimeout = function (el, func, suffix = '') {\n    clearTimeout(Xt.dataStorage.get(el, 'xtAnimTimeout' + suffix))\n    Xt.dataStorage.set(el, 'xtAnimTimeout' + suffix, setTimeout(func, Xt.animTime(el)))\n  }\n\n  /**\n   * clear animTimeout\n   * @param {Node|HTMLElement|EventTarget|Window} el Element animating\n   * @param {String} suffix Timeout suffix\n   */\n  Xt.animTimeoutClear = function (el, suffix = '') {\n    clearTimeout(Xt.dataStorage.get(el, 'xtAnimTimeout' + suffix))\n  }\n\n  /**\n   * return window percent if percent string\n   * @param {Number|String} num Number to check\n   * @returns {Number}\n   */\n  Xt.windowPercent = function (num) {\n    if (typeof num === 'string' || num instanceof String) {\n      if (num.indexOf('%') !== -1) {\n        num = Xt.windowHeight * parseFloat(num) / 100\n      }\n    }\n    return num\n  }\n\n  /**\n   * query array of elements or element\n   * @param {Node|HTMLElement|NodeList|Array} element Element to search from\n   * @param {String} query Query for querySelectorAll\n   * @returns {Array}\n   */\n  Xt.queryAll = function (element, query) {\n    if (!query) {\n      return []\n    }\n    if (!element.length) {\n      // search element\n      return Xt.arrSingle(element.querySelectorAll(query))\n    } else {\n      // search array\n      const arr = []\n      for (const el of element) {\n        arr.push(...el.querySelectorAll(query))\n      }\n      return arr\n    }\n  }\n\n  /**\n   * check element visibility\n   * @param {Node|HTMLElement|EventTarget|Window} el Element animating\n   * @returns {Boolean}\n   */\n  Xt.visible = function (el) {\n    return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length)\n  }\n\n  /**\n   * Fix resize event multiple calls and adds delay on resize and scroll events\n   * @param {Event|Object} e Event\n   * @param {Node|HTMLElement|EventTarget|Window} element Element to save timeout\n   * @param {Function} func Function to execute\n   * @param {String} prefix Timeout prefix\n   * @param {Boolean} instant If instant\n   */\n  Xt.eventDelay = function (e, element, func, prefix = '', instant = false) {\n    const container = document.documentElement\n    if (e && e.type && (e.type === 'resize' || e.type === 'scroll')) {\n      const delay = instant ? false : Xt[e.type + 'Delay']\n      if (e.type === 'resize') {\n        // multiple calls check\n        if (window.innerWidth === Xt.dataStorage.get(container, 'xtEventDelay')) { // only width no height because it changes on scroll on mobile\n          return\n        }\n        // save after a frame to execute all eventDelay\n        cancelAnimationFrame(Xt.dataStorage.get(container, 'xtEventDelayFrame'))\n        Xt.dataStorage.set(container, 'xtEventDelayFrame', requestAnimationFrame(function () {\n          Xt.dataStorage.set(container, 'xtEventDelay', window.innerWidth)\n        }))\n      }\n      // delay\n      if (delay === false) {\n        // func\n        func(e)\n      } else {\n        clearTimeout(Xt.dataStorage.get(element, 'xt' + e.type + prefix + 'Timeout'))\n        Xt.dataStorage.set(element, 'xt' + e.type + prefix + 'Timeout', setTimeout(function () {\n          // func\n          func(e)\n        }, delay))\n      }\n    } else {\n      // func\n      func(e)\n    }\n  }\n\n  Xt.dataStorage.set(document.documentElement, 'xtEventDelay', window.innerWidth)\n\n  /**\n   * Xt.windowHeight\n   * vindow height value only on width resize to fix mobile window height changes\n   */\n\n  addEventListener('resize', function (e) {\n    Xt.eventDelay(e, document.documentElement, function () {\n      Xt.windowHeightSet()\n    }, 'xtWindowHeight' + 'Resize', true)\n  })\n\n  Xt.windowHeightSet = function () {\n    Xt.windowHeight = window.innerHeight\n    /* https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n     * height: 100vh;\n     * height: calc(var(--vh, 1vh) * 100);\n     */\n    document.documentElement.style.setProperty('--vh', (Xt.windowHeight * 0.01) + 'px')\n  }\n\n  /**\n   * passive events\n   * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n   */\n\n  Xt.passiveSupported = false\n\n  try {\n    const options = {\n      get passive () {\n        Xt.passiveSupported = true\n      }\n    }\n    addEventListener('test', options, options)\n    removeEventListener('test', options, options)\n  } catch (err) {\n    Xt.passiveSupported = false\n  }\n\n  //\n}\n","if (typeof window !== 'undefined') {\n\n  require('xtend-library/src/core/ajax/ajax.js')\n  require('xtend-library/src/core/drop/drop.js')\n  require('xtend-library/src/core/overlay/overlay.js')\n  require('xtend-library/src/core/scroll/scroll.js')\n  require('xtend-library/src/core/slider/slider.js')\n  require('xtend-library/src/core/smooth/smooth.js')\n  require('xtend-library/src/core/sticky/sticky.js')\n  require('xtend-library/src/core/toggle/toggle.js')\n\n}\n"],"sourceRoot":""}